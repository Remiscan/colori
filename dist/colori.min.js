var Ve=Object.defineProperty;var w=Math.pow,nt=(a,e,t)=>e in a?Ve(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var de=(a,e)=>{for(var t in e)Ve(a,t,{get:e[t],enumerable:!0})};var T=(a,e,t)=>(nt(a,typeof e!="symbol"?e+"":e,t),t),Le=(a,e,t)=>{if(!e.has(a))throw TypeError("Cannot "+t)};var _=(a,e,t)=>(Le(a,e,"read from private field"),t?t.call(a):e.get(a)),G=(a,e,t)=>{if(e.has(a))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(a):e.set(a,t)},A=(a,e,t,r)=>(Le(a,e,"write to private field"),r?r.call(a,t):e.set(a,t),t),R=(a,e,t,r)=>({set _(n){A(a,e,n,t)},get _(){return _(a,e,r)}});var ae={};de(ae,{APCA:()=>ne,WCAG2:()=>Me,luminance:()=>Y});var H={};de(H,{a98rgb_to_a98rgblinear:()=>pt,a98rgblinear_to_a98rgb:()=>mt,a98rgblinear_to_xyzd65:()=>gt,displayp3_to_displayp3linear:()=>st,displayp3linear_to_displayp3:()=>ot,displayp3linear_to_xyzd65:()=>it,hsl_to_hwb:()=>At,hsl_to_srgb:()=>Tt,hwb_to_hsl:()=>Nt,lab_to_lch:()=>Ue,lab_to_xyzd50:()=>$t,lch_to_lab:()=>We,okhsl_to_oklab:()=>Ft,okhsv_to_oklab:()=>Lt,oklab_to_okhsl:()=>Rt,oklab_to_okhsv:()=>Vt,oklab_to_oklch:()=>Ct,oklab_to_oklrab:()=>je,oklab_to_xyzd65:()=>we,oklch_to_oklab:()=>St,oklch_to_oklrch:()=>zt,oklrab_to_oklab:()=>Ze,oklrch_to_oklch:()=>Gt,prophotorgb_to_prophotorgblinear:()=>ct,prophotorgblinear_to_prophotorgb:()=>ut,prophotorgblinear_to_xyzd50:()=>bt,rec2020_to_rec2020linear:()=>dt,rec2020linear_to_rec2020:()=>kt,rec2020linear_to_xyzd65:()=>wt,srgb_to_hsl:()=>Et,srgb_to_srgblinear:()=>re,srgblinear_to_srgb:()=>qe,srgblinear_to_xyzd65:()=>at,xyzd50_to_lab:()=>yt,xyzd50_to_prophotorgblinear:()=>ht,xyzd50_to_xyzd65:()=>Ot,xyzd65_to_a98rgblinear:()=>ft,xyzd65_to_displayp3linear:()=>lt,xyzd65_to_oklab:()=>Mt,xyzd65_to_rec2020linear:()=>xt,xyzd65_to_srgblinear:()=>ke,xyzd65_to_xyzd50:()=>vt});function re(a){return a.map(e=>Math.abs(e)<.04045?e/12.92:(Math.sign(e)||1)*Math.pow((Math.abs(e)+.055)/1.055,2.4))}function qe(a){return a.map(e=>Math.abs(e)>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(Math.abs(e),1/2.4)-.055):12.92*e)}function at(a){let[e,t,r]=a;return[.41239079926595934*e+.357584339383878*t+.1804807884018343*r,.21263900587151027*e+.715168678767756*t+.07219231536073371*r,.01933081871559182*e+.11919477979462598*t+.9505321522496607*r]}function ke(a){let[e,t,r]=a;return[3.2409699419045226*e+-1.537383177570094*t+-.4986107602930034*r,-.9692436362808796*e+1.8759675015077202*t+.04155505740717559*r,.05563007969699366*e+-.20397695888897652*t+1.0569715142428786*r]}function st(a){return re(a)}function ot(a){return qe(a)}function it(a){let[e,t,r]=a;return[.4865709486482162*e+.26566769316909306*t+.1982172852343625*r,.2289745640697488*e+.6917385218365064*t+.079286914093745*r,0*e+.04511338185890264*t+1.043944368900976*r]}function lt(a){let[e,t,r]=a;return[2.493496911941425*e+-.9313836179191239*t+-.40271078445071684*r,-.8294889695615747*e+1.7626640603183463*t+.023624685841943577*r,.03584583024378447*e+-.07617238926804182*t+.9568845240076872*r]}function ct(a){return a.map(e=>Math.abs(e)<=16/512?e/16:(Math.sign(e)||1)*Math.pow(Math.abs(e),1.8))}function ut(a){return a.map(e=>Math.abs(e)>=1/512?(Math.sign(e)||1)*Math.pow(Math.abs(e),1/1.8):16*e)}function bt(a){let[e,t,r]=a;return[.7977604896723027*e+.13518583717574031*t+.0313493495815248*r,.2880711282292934*e+.7118432178101014*t+8565396060525902e-20*r,0*e+0*t+.8251046025104601*r]}function ht(a){let[e,t,r]=a;return[1.3457989731028281*e+-.25558010007997534*t+-.05110628506753401*r,-.5446224939028347*e+1.5082327413132781*t+.02053603239147973*r,0*e+0*t+1.2119675456389454*r]}function pt(a){return a.map(e=>(Math.sign(e)||1)*Math.pow(Math.abs(e),563/256))}function mt(a){return a.map(e=>(Math.sign(e)||1)*Math.pow(Math.abs(e),256/563))}function gt(a){let[e,t,r]=a;return[.5766690429101305*e+.1855582379065463*t+.1882286462349947*r,.29734497525053605*e+.6273635662554661*t+.07529145849399788*r,.02703136138641234*e+.07068885253582723*t+.9913375368376388*r]}function ft(a){let[e,t,r]=a;return[2.0415879038107465*e+-.5650069742788596*t+-.34473135077832956*r,-.9692436362808795*e+1.8759675015077202*t+.04155505740717557*r,.013444280632031142*e+-.11836239223101838*t+1.0151749943912054*r]}function dt(a){let e=1.09929682680944;return a.map(t=>Math.abs(t)<.018053968510807*4.5?t/4.5:(Math.sign(t)||1)*Math.pow(Math.abs(t)+e-1,1/.45))}function kt(a){let e=1.09929682680944;return a.map(t=>Math.abs(t)>.018053968510807?(Math.sign(t)||1)*(e*Math.pow(Math.abs(t),.45)-(e-1)):4.5*t)}function wt(a){let[e,t,r]=a;return[.6369580483012914*e+.14461690358620832*t+.1688809751641721*r,.2627002120112671*e+.6779980715188708*t+.05930171646986196*r,0*e+.028072693049087428*t+1.060985057710791*r]}function xt(a){let[e,t,r]=a;return[1.7166511879712674*e+-.35567078377639233*t+-.25336628137365974*r,-.6666843518324892*e+1.6164812366349395*t+.01576854581391113*r,.017639857445310783*e+-.042770613257808524*t+.9421031212354738*r]}function yt(a){let e=.008856451679035631,t=24389/27,r=[.96422,1,.82521],[n,s,o]=a.map((h,u)=>h/r[u]),i=h=>h>e?Math.cbrt(h):(t*h+16)/116,[c,b,m]=[n,s,o].map(h=>i(h));return[(116*b-16)/100,500*(c-b),200*(b-m)]}function $t(a){let e=.008856451679035631,t=24389/27,r=[.96422,1,.82521],[n,s,o]=a;n=100*n;let i=(n+16)/116,c=s/500+i,b=i-o/200,m=w(c,3)>e?w(c,3):(116*c-16)/t,h=n>t*e?w((n+16)/116,3):n/t,u=w(b,3)>e?w(b,3):(116*b-16)/t;return[m,h,u].map((g,f)=>g*r[f])}function Ue(a){let[e,t,r]=a,n=Math.sqrt(w(t,2)+w(r,2)),s=Math.atan2(r,t)*180/Math.PI;for(;s<0;)s+=360;for(;s>360;)s-=360;return[e,n,s]}function We(a){let[e,t,r]=a,n=t*Math.cos(r*Math.PI/180),s=t*Math.sin(r*Math.PI/180);return[e,n,s]}function Mt(a){let[e,t,r]=a,n=[.8190224432164319*e+.3619062562801221*t+-.12887378261216414*r,.0329836671980271*e+.9292868468965546*t+.03614466816999844*r,.048177199566046255*e+.26423952494422764*t+.6335478258136937*r],[s,o,i]=n.map(c=>Math.cbrt(c));return[.2104542553*s+.793617785*o+-.0040720468*i,1.9779984951*s+-2.428592205*o+.4505937099*i,.0259040371*s+.7827717662*o+-.808675766*i]}function we(a){let[e,t,r]=a,n=[.9999999984505198*e+.39633779217376786*t+.2158037580607588*r,1.0000000088817609*e+-.10556134232365635*t+-.06385417477170591*r,1.0000000546724108*e+-.08948418209496575*t+-1.2914855378640917*r],[s,o,i]=n.map(c=>w(c,3));return[1.2268798733741557*s+-.5578149965554813*o+.28139105017721583*i,-.04057576262431372*s+1.1122868293970594*o+-.07171106666151701*i,-.07637294974672142*s+-.4214933239627914*o+1.5869240244272418*i]}function Ct(a){return Ue(a)}function St(a){return We(a)}function vt(a){let[e,t,r]=a;return[1.0479298208405488*e+.022946793341019088*t+-.05019222954313557*r,.029627815688159344*e+.990434484573249*t+-.01707382502938514*r,-.009243058152591178*e+.015055144896577895*t+.7518742899580008*r]}function Ot(a){let[e,t,r]=a;return[.9554734527042182*e+-.023098536874261423*t+.0632593086610217*r,-.028369706963208136*e+1.0099954580058226*t+.021041398966943008*r,.012314001688319899*e+-.020507696433477912*t+1.3303659366080753*r]}function xe(a,e,t){return ke(we([a,e,t]))}function X(a){let r=1.170873786407767;return .5*(r*a-.206+Math.sqrt((r*a-.206)*(r*a-.206)+4*.03*r*a))}function W(a){let r=1.170873786407767;return(a*a+.206*a)/(r*(a+.03))}function It(a,e){let t,r,n,s,o,i,c,b;-1.88170328*a-.80936493*e>1?(t=1.19086277,r=1.76576728,n=.59662641,s=.75515197,o=.56771245,i=4.0767416621,c=-3.3077115913,b=.2309699292):1.81444104*a-1.19445276*e>1?(t=.73956515,r=-.45954404,n=.08285427,s=.1254107,o=.14503204,i=-1.2684380046,c=2.6097574011,b=-.3413193965):(t=1.35733652,r=-.00915799,n=-1.1513021,s=-.50559606,o=.00692167,i=-.0041960863,c=-.7034186147,b=1.707614701);let m=t+r*a+n*e+s*a*a+o*a*e,h=.3963377774*a+.2158037573*e,u=-.1055613458*a-.0638541728*e,g=-.0894841775*a-1.291485548*e;{let f=1+m*h,x=1+m*u,d=1+m*g,k=f*f*f,y=x*x*x,C=d*d*d,$=3*h*f*f,M=3*u*x*x,v=3*g*d*d,O=6*h*h*f,S=6*u*u*x,I=6*g*g*d,P=i*k+c*y+b*C,E=i*$+c*M+b*v,z=i*O+c*S+b*I;m=m-P*E/(E*E-.5*P*z)}return m}function ye(a,e){let t=It(a,e),r=xe(1,t*a,t*e),n=Math.cbrt(1/Math.max(Math.max(r[0],r[1]),r[2])),s=n*t;return[n,s]}function Pt(a,e,t,r,n,s){s||(s=ye(a,e));let o;if((t-n)*s[1]-(s[0]-n)*r<=0)o=s[1]*n/(r*s[0]+s[1]*(n-t));else{o=s[1]*(n-1)/(r*(s[0]-1)+s[1]*(n-t));{let i=t-n,c=r,b=.3963377774*a+.2158037573*e,m=-.1055613458*a-.0638541728*e,h=-.0894841775*a-1.291485548*e,u=i+c*b,g=i+c*m,f=i+c*h;{let x=n*(1-o)+o*t,d=o*r,k=x+d*b,y=x+d*m,C=x+d*h,$=k*k*k,M=y*y*y,v=C*C*C,O=3*u*k*k,S=3*g*y*y,I=3*f*C*C,P=6*u*u*k,E=6*g*g*y,z=6*f*f*C,Z=4.0767416621*$-3.3077115913*M+.2309699292*v-1,U=4.0767416621*O-3.3077115913*S+.2309699292*I,be=4.0767416621*P-3.3077115913*E+.2309699292*z,Ne=U/(U*U-.5*Z*be),he=-Z*Ne,ze=-1.2684380046*$+2.6097574011*M-.3413193965*v-1,pe=-1.2684380046*O+2.6097574011*S-.3413193965*I,tt=-1.2684380046*P+2.6097574011*E-.3413193965*z,Ge=pe/(pe*pe-.5*ze*tt),me=-ze*Ge,Re=-.0041960863*$-.7034186147*M+1.707614701*v-1,ge=-.0041960863*O-.7034186147*S+1.707614701*I,rt=-.0041960863*P-.7034186147*E+1.707614701*z,Fe=ge/(ge*ge-.5*Re*rt),fe=-Re*Fe;he=Ne>=0?he:1e6,me=Ge>=0?me:1e6,fe=Fe>=0?fe:1e6,o+=Math.min(he,Math.min(me,fe))}}}return o}function $e(a,e,t){t||(t=ye(a,e));let r=t[0],n=t[1];return[n/r,n/(1-r)]}function He(a,e,t){let r=ye(e,t),n=Pt(e,t,a,1,a,r),s=$e(e,t,r),o=.11516993+1/(7.4477897+4.1590124*t+e*(-2.19557347+1.75198401*t+e*(-2.13704948-10.02301043*t+e*(-4.24894561+5.38770819*t+4.69891013*e)))),i=.11239642+1/(1.6132032-.68124379*t+e*(.40370612+.90148123*t+e*(-.27087943+.6122399*t+e*(.00299215-.45399568*t-.14661872*e)))),c=n/Math.min(a*s[0],(1-a)*s[1]),b;{let h=a*o,u=(1-a)*i;b=.9*c*Math.sqrt(Math.sqrt(1/(1/(h*h*h*h)+1/(u*u*u*u))))}let m;{let h=a*.4,u=(1-a)*.8;m=Math.sqrt(1/(1/(h*h)+1/(u*u)))}return[m,b,n]}function Ke([a,e,t]){if(t==1)return[1,0,0];if(t==0)return[0,0,0];let r=Math.cos(2*Math.PI*a),n=Math.sin(2*Math.PI*a),s=W(t),o=He(s,r,n),i=o[0],c=o[1],b=o[2],m,h,u,g,f;return e<.8?(h=1.25*e,u=0,g=.8*i,f=1-g/c):(h=5*(e-.8),u=c,g=.2*c*c*1.25*1.25/i,f=1-g/(b-c)),m=u+h*g/(1-f*h),[s,m*r,m*n]}function Be(a){let e=Math.sqrt(a[1]*a[1]+a[2]*a[2]),t=a[1]/e,r=a[2]/e,n=a[0],s=.5+.5*Math.atan2(-a[2],-a[1])/Math.PI,o=He(n,t,r),i=o[0],c=o[1],b=o[2],m;if(e<c){let u=0,g=.8*i,f=1-g/c;m=(e-u)/(g+f*(e-u))*.8}else{let u=c,g=.2*c*c*1.25*1.25/i,f=1-g/(b-c),x=(e-u)/(g+f*(e-u));m=.8+.2*x}let h=X(n);return[s,m,h]}function Je([a,e,t]){if(t===0)return[0,0,0];let r=Math.cos(2*Math.PI*a),n=Math.sin(2*Math.PI*a),s=$e(r,n),o=s[0],i=.5,c=s[1],b=1-i/o,m=1-e*i/(i+c-c*b*e),h=e*c*i/(i+c-c*b*e),u=t*m,g=t*h,f=W(m),x=h*f/m,d=W(u);g=g*d/u,u=d;let k=xe(f,r*x,n*x),y=Math.cbrt(1/Math.max(k[0],k[1],k[2],0));return u=u*y,g=g*y,[u,g*r,g*n]}function De(a){let e=Math.sqrt(a[1]*a[1]+a[2]*a[2]),t=a[1]/e,r=a[2]/e,n=a[0],s=.5+.5*Math.atan2(-a[2],-a[1])/Math.PI,o=$e(t,r),i=o[0],c=.5,b=o[1],m=1-c/i,h=b/(e+n*b),u=h*n,g=h*e,f=W(u),x=g*f/u,d=xe(f,t*x,r*x),k=Math.cbrt(1/Math.max(d[0],d[1],d[2],0));n=n/k,e=e/k,e=e*X(n)/n,n=X(n);let y=n/u,C=(c+b)*g/(b*c+b*m*g);return[s,C,y]}function Et(a){let[e,t,r]=a,n=Math.max(e,t,r),s=Math.min(e,t,r),o=n-s,i=(n+s)/2,c;if(o===0)c=0;else switch(n){case e:c=(t-r)/o;break;case t:c=(r-e)/o+2;break;default:c=(e-t)/o+4}for(c=60*c;c<0;)c+=360;for(;c>360;)c-=360;let b;return i===0||i===1?b=0:i<=.5?b=o/(2*i):b=o/(2-2*i),[c,b,i]}function Tt(a){let[e,t,r]=a,n=t*Math.min(r,1-r),s=m=>(m+e/30)%12,o=m=>r-n*Math.max(Math.min(s(m)-3,9-s(m),1),-1),i=o(0),c=o(8),b=o(4);return[i,c,b]}function At(a){let[e,t,r]=a,n,s=r+t*Math.min(r,1-r);s===0?n=0:n=2-2*r/s;let o=(1-n)*s,i=1-s;return[e,o,i]}function Nt(a){let[e,t,r]=a,n=t,s=r;t+r>1&&(n=t/(t+r),s=r/(t+r));let o,i=1-s;s===1?o=0:o=1-n/i;let c,b=i-i*o/2;return b===0||b===1?c=0:c=(i-b)/Math.min(b,1-b),[e,c,b]}function je(a){let[e,t,r]=a;return[X(e),t,r]}function Ze(a){let[e,t,r]=a;return[W(e),t,r]}function zt(a){return je(a)}function Gt(a){return Ze(a)}function Rt(a){let[e,t,r]=Be(a);return[360*e,t,r]}function Ft(a){let[e,t,r]=a;return Ke([e/360,t,r])}function Vt(a){let[e,t,r]=De(a);return[360*e,t,r]}function Lt(a){let[e,t,r]=a;return Je([e/360,t,r])}function qt(a){let e=[.2126729,.7151522,.072175],t=2.4;return a.reduce((r,n,s)=>r+Math.pow(n,t)*e[s],0)}function ne(a,e){let[t,r]=[a,e].map(y=>qt(y));if(isNaN(t)||isNaN(r)||Math.min(t,r)<0||Math.max(t,r)>1.1)return 0;let n=.56,s=.57,o=.62,i=.65,c=.022,b=1.414,m=1.14,h=1.14,u=.027,g=.027,f=.1,x=5e-4;if([t,r]=[t,r].map(y=>y>c?y:y+Math.pow(c-y,b)),Math.abs(t-r)<x)return 0;let d=0,k=0;return r>t?(d=(Math.pow(r,n)-Math.pow(t,s))*m,k=d<f?0:d-u):(d=(Math.pow(r,i)-Math.pow(t,o))*h,k=d>-f?0:d+g),k*100}function Y(a){let e=re(a);return .2126729*e[0]+.7151522*e[1]+.072175*e[2]}function Me(a,e){let t=Y(a),r=Y(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}var Ut=[{id:"srgb",aliases:["rgb","rgba"],properties:["r","g","b"],gamut:[[0,1],[0,1],[0,1]],links:["srgb-linear","hsl"],black:[0,0,0],white:[1,1,1]},{id:"srgb-linear",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["srgb","xyz-d65"],black:[0,0,0],white:[1,1,1]},{id:"hsl",aliases:["hsla"],properties:["h","s","l"],gamutSpace:"srgb",links:["srgb","hwb"]},{id:"hwb",aliases:[],properties:["h","w","bk"],gamutSpace:"srgb",links:["hsl"]},{id:"lab",aliases:[],properties:["ciel","ciea","cieb"],gamut:[[0,1/0],[-1/0,1/0],[-1/0,1/0]],links:["xyz-d50","lch"],black:[0,0,0]},{id:"lch",aliases:[],properties:["ciel","ciec","cieh"],gamut:[[0,1/0],[0,1/0],[-1/0,1/0]],links:["lab"],black:[0,0,0]},{id:"xyz-d50",aliases:[],gamut:[[-1/0,1/0],[-1/0,1/0],[-1/0,1/0]],links:["lab","xyz-d65","prophoto-rgb-linear"]},{id:"xyz-d65",aliases:["xyz"],gamut:[[-1/0,1/0],[-1/0,1/0],[-1/0,1/0]],links:["xyz-d50","srgb-linear","display-p3-linear","a98-rgb-linear","rec2020-linear","oklab"]},{id:"display-p3",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["display-p3-linear"],black:[0,0,0],white:[1,1,1]},{id:"display-p3-linear",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["display-p3","xyz-d65"],black:[0,0,0],white:[1,1,1]},{id:"a98-rgb",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["a98-rgb-linear"],black:[0,0,0],white:[1,1,1]},{id:"a98-rgb-linear",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["a98-rgb","xyz-d65"],black:[0,0,0],white:[1,1,1]},{id:"prophoto-rgb",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["prophoto-rgb-linear"],black:[0,0,0],white:[1,1,1]},{id:"prophoto-rgb-linear",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["prophoto-rgb","xyz-d50"],black:[0,0,0],white:[1,1,1]},{id:"rec2020",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["rec2020-linear"],black:[0,0,0],white:[1,1,1]},{id:"rec2020-linear",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["rec2020","xyz-d65"],black:[0,0,0],white:[1,1,1]},{id:"oklab",aliases:[],properties:["okl","oka","okb"],gamut:[[0,1/0],[-1/0,1/0],[-1/0,1/0]],links:["xyz-d65","oklch","okhsl","okhsv","oklrab"],black:[0,0,0]},{id:"oklch",aliases:[],properties:["okl","okc","okh"],gamut:[[0,1/0],[0,1/0],[-1/0,1/0]],links:["oklab","oklrch"],black:[0,0,0]},{id:"oklrab",aliases:[],properties:["oklr","oka","okb"],gamut:[[0,1/0],[-1/0,1/0],[-1/0,1/0]],links:["oklab"],black:[0,0,0]},{id:"oklrch",aliases:[],properties:["oklr","okc","okh"],gamut:[[0,1/0],[0,1/0],[-1/0,1/0]],links:["oklch"],black:[0,0,0]},{id:"okhsl",aliases:[],properties:["okh","oksl","oklr"],gamutSpace:"srgb",links:["oklab"]},{id:"okhsv",aliases:[],properties:["okh","oksv","okv"],gamutSpace:"srgb",links:["oklab"]}],Ce=Ut;var se="(?:\\-|\\+)?(?:[0-9]+(?:\\.[0-9]+)?|\\.[0-9]+)(?:(?:e|E)(?:\\-|\\+)?[0-9]+)?",p={number:se,percentage:se+"%",numberOrPercentage:se+"%?",angle:se+"(?:deg|grad|rad|turn)?"},Xe=[{id:"hex",syntaxes:[/^#([a-fA-F0-9]{1})([a-fA-F0-9]{1})([a-fA-F0-9]{1})$/,/^#([a-fA-F0-9]{1})([a-fA-F0-9]{1})([a-fA-F0-9]{1})([a-fA-F0-9]{1})$/,/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/]},{id:"rgb",syntaxes:[new RegExp(`^rgba?\\((${p.number}), ?(${p.number}), ?(${p.number})\\)$`),new RegExp(`^rgba?\\((${p.number}), ?(${p.number}), ?(${p.number}), ?(${p.numberOrPercentage})\\)$`),new RegExp(`^rgba?\\((${p.percentage}), ?(${p.percentage}), ?(${p.percentage})\\)$`),new RegExp(`^rgba?\\((${p.percentage}), ?(${p.percentage}), ?(${p.percentage}), ?(${p.numberOrPercentage})\\)$`),new RegExp(`^rgba?\\((${p.number}) (${p.number}) (${p.number})\\)$`),new RegExp(`^rgba?\\((${p.number}) (${p.number}) (${p.number}) ?\\/ ?(${p.numberOrPercentage})\\)$`),new RegExp(`^rgba?\\((${p.percentage}) (${p.percentage}) (${p.percentage})\\)$`),new RegExp(`^rgba?\\((${p.percentage}) (${p.percentage}) (${p.percentage}) ?\\/ ?(${p.numberOrPercentage})\\)$`)]},{id:"hsl",syntaxes:[new RegExp(`^hsla?\\((${p.angle}), ?(${p.percentage}), ?(${p.percentage})\\)$`),new RegExp(`^hsla?\\((${p.angle}), ?(${p.percentage}), ?(${p.percentage}), ?(${p.numberOrPercentage})\\)$`),new RegExp(`^hsla?\\((${p.angle}) (${p.percentage}) (${p.percentage})\\)$`),new RegExp(`^hsla?\\((${p.angle}) (${p.percentage}) (${p.percentage}) ?\\/ ?(${p.numberOrPercentage})\\)$`)]},{id:"hwb",syntaxes:[new RegExp(`^hwb\\((${p.angle}) (${p.percentage}) (${p.percentage})\\)$`),new RegExp(`^hwb\\((${p.angle}) (${p.percentage}) (${p.percentage}) ?\\/ ?(${p.numberOrPercentage})\\)$`)]},{id:"lab",syntaxes:[new RegExp(`^lab\\((${p.percentage}) (${p.number}) (${p.number})\\)$`),new RegExp(`^lab\\((${p.percentage}) (${p.number}) (${p.number}) ?\\/ ?(${p.numberOrPercentage})\\)$`)]},{id:"lch",syntaxes:[new RegExp(`^lch\\((${p.percentage}) (${p.number}) (${p.angle})\\)$`),new RegExp(`^lch\\((${p.percentage}) (${p.number}) (${p.angle}) ?\\/ ?(${p.numberOrPercentage})\\)$`)]},{id:"oklab",syntaxes:[new RegExp(`^oklab\\((${p.percentage}) (${p.number}) (${p.number})\\)$`),new RegExp(`^oklab\\((${p.percentage}) (${p.number}) (${p.number}) ?\\/ ?(${p.numberOrPercentage})\\)$`)]},{id:"oklch",syntaxes:[new RegExp(`^oklch\\((${p.percentage}) (${p.number}) (${p.angle})\\)$`),new RegExp(`^oklch\\((${p.percentage}) (${p.number}) (${p.angle}) ?\\/ ?(${p.numberOrPercentage})\\)$`)]},{id:"color",syntaxes:[new RegExp(`^color\\(([a-zA-Z0-9_-]+?) (${p.number}) (${p.number}) (${p.number})\\)$`),new RegExp(`^color\\(([a-zA-Z0-9_-]+?) (${p.number}) (${p.number}) (${p.number}) ?\\/ ?(${p.numberOrPercentage})\\)$`)]},{id:"name",syntaxes:[/^[A-Za-z]+$/]}];var oe={};de(oe,{CIEDE2000:()=>Se,euclidean:()=>K});function K(a,e){return a.reduce((t,r,n)=>t+w(r-e[n],2),0)}function Se([a,e,t],[r,n,s]){let o=100*a,i=100*r,c=Math.sqrt(w(e,2)+w(t,2)),b=Math.sqrt(w(n,2)+w(s,2)),m=(c+b)/2,h=.5*(1-Math.sqrt(w(m,7)/(w(m,7)+w(25,7)))),u=(1+h)*e,g=(1+h)*n,f=Math.sqrt(w(u,2)+w(t,2)),x=Math.sqrt(w(g,2)+w(s,2)),d=f===0?0:Math.atan2(t,u)*180/Math.PI,k=x===0?0:Math.atan2(s,g)*180/Math.PI;for(;d<0;)d+=360;for(;d>360;)d-=360;for(;k<0;)k+=360;for(;k>360;)k-=360;let y=i-o,C=x-f,$=f*x===0?0:Math.abs(k-d)<=180?k-d:k-d>180?k-d-360:k-d+360,M=2*Math.sqrt(f*x)*Math.sin(Math.PI/180*($/2)),v=(o+i)/2,O=(f+x)/2,S=f*x===0?d+k:Math.abs(k-d)<=180?(d+k)/2:d+k>=360?(d+k-360)/2:(d+k+360)/2,I=1-.17*Math.cos(Math.PI/180*(S-30))+.24*Math.cos(Math.PI/180*(2*S))+.32*Math.cos(Math.PI/180*(3*S+6))-.2*Math.cos(Math.PI/180*(4*S-63)),P=30*Math.exp(-1*w((S-275)/25,2)),E=2*Math.sqrt(w(O,7)/(w(O,7)+w(25,7))),z=1+.015*w(v-50,2)/Math.sqrt(20+w(v-50,2)),Z=1+.045*O,U=1+.015*O*I,be=-1*Math.sin(Math.PI/180*(2*P))*E;return Math.sqrt(w(y/z,2)+w(C/Z,2)+w(M/U,2)+be*(C/Z)*(M/U))}var ve=class{constructor(e){T(this,"id");T(this,"links");T(this,"data");T(this,"visited",!1);T(this,"predecessor",null);var t;this.id=e.id,this.links=e.links,this.data=(t=e.data)!=null?t:null}getVisitedState(){return this.visited}getPredecessor(){return this.predecessor}visit(e=!0){this.visited=e}unvisit(){this.visited=!1}follow(e){this.predecessor=e}unfollow(){this.predecessor=null}},Q=class extends Error{constructor(t){super(`Node ${JSON.stringify(t)} does not exist`);T(this,"id");this.id=t}},ee=class extends Error{constructor(t,r){super(`No path found from ${JSON.stringify(t)} to ${JSON.stringify(r)}`);T(this,"startID");T(this,"endID");this.startID=t,this.endID=r}},Oe=class extends Error{constructor(){super("The graph is not a directed acyclic graph")}},te=class{constructor(e){T(this,"nodes");this.nodes=e.map(t=>new ve(t))}getNode(e){let t=this.nodes.find(r=>r.id===e);if(t==null)throw new Q(e);return t}cleanUp(){for(let e of this.nodes)e.unvisit(),e.unfollow()}shortestPath(e,t){if(e===t)return[];try{let r=this.getNode(e),n=this.getNode(t),s=[r];r.visit();let o=!1;e:for(;s.length>0;){let m=s.shift();if(m.id===n.id){o=!0;break e}for(let h of m.links){let u=this.getNode(h);u.getVisitedState()===!1&&(u.visit(),u.follow(m),s.push(u))}}if(!o)throw new ee(r.id,n.id);let i=[n],c=n,b=c.getPredecessor();for(;b!=null;)i.push(b),c=b,b=c.getPredecessor();return this.cleanUp(),i.reverse()}catch(r){throw this.cleanUp(),r}}topologicalOrder(){let e=[],t=[...this.nodes],r=n=>{if(n.getVisitedState()!==!0){if(n.getVisitedState()==="temp")throw new Oe;n.visit("temp");for(let s of n.links){let o=this.getNode(s);r(o)}n.visit(!0),e.push(n)}};try{for(;t.length>0;){let n=t.shift();r(n)}return this.cleanUp(),e.reverse()}catch(n){throw this.cleanUp(),n}}};var Wt=new Map([["aliceblue","f0f8ff"],["antiquewhite","faebd7"],["aqua","00ffff"],["aquamarine","7fffd4"],["azure","f0ffff"],["beige","f5f5dc"],["bisque","ffe4c4"],["black","000000"],["blanchedalmond","ffebcd"],["blue","0000ff"],["blueviolet","8a2be2"],["brown","a52a2a"],["burlywood","deb887"],["cadetblue","5f9ea0"],["chartreuse","7fff00"],["chocolate","d2691e"],["coral","ff7f50"],["cornflowerblue","6495ed"],["cornsilk","fff8dc"],["crimson","dc143c"],["cyan","00ffff"],["darkblue","00008b"],["darkcyan","008b8b"],["darkgoldenrod","b8860b"],["darkgray","a9a9a9"],["darkgrey","a9a9a9"],["darkgreen","006400"],["darkkhaki","bdb76b"],["darkmagenta","8b008b"],["darkolivegreen","556b2f"],["darkorange","ff8c00"],["darkorchid","9932cc"],["darkred","8b0000"],["darksalmon","e9967a"],["darkseagreen","8fbc8f"],["darkslateblue","483d8b"],["darkslategray","2f4f4f"],["darkslategrey","2f4f4f"],["darkturquoise","00ced1"],["darkviolet","9400d3"],["deeppink","ff1493"],["deepskyblue","00bfff"],["dimgray","696969"],["dimgrey","696969"],["dodgerblue","1e90ff"],["firebrick","b22222"],["floralwhite","fffaf0"],["forestgreen","228b22"],["fuchsia","ff00ff"],["gainsboro","dcdcdc"],["ghostwhite","f8f8ff"],["gold","ffd700"],["goldenrod","daa520"],["gray","808080"],["grey","808080"],["green","008000"],["greenyellow","adff2f"],["honeydew","f0fff0"],["hotpink","ff69b4"],["indianred","cd5c5c"],["indigo","4b0082"],["ivory","fffff0"],["khaki","f0e68c"],["lavender","e6e6fa"],["lavenderblush","fff0f5"],["lawngreen","7cfc00"],["lemonchiffon","fffacd"],["lightblue","add8e6"],["lightcoral","f08080"],["lightcyan","e0ffff"],["lightgoldenrodyellow","fafad2"],["lightgray","d3d3d3"],["lightgrey","d3d3d3"],["lightgreen","90ee90"],["lightpink","ffb6c1"],["lightsalmon","ffa07a"],["lightseagreen","20b2aa"],["lightskyblue","87cefa"],["lightslategray","778899"],["lightslategrey","778899"],["lightsteelblue","b0c4de"],["lightyellow","ffffe0"],["lime","00ff00"],["limegreen","32cd32"],["linen","faf0e6"],["magenta","ff00ff"],["maroon","800000"],["mediumaquamarine","66cdaa"],["mediumblue","0000cd"],["mediumorchid","ba55d3"],["mediumpurple","9370d8"],["mediumseagreen","3cb371"],["mediumslateblue","7b68ee"],["mediumspringgreen","00fa9a"],["mediumturquoise","48d1cc"],["mediumvioletred","c71585"],["midnightblue","191970"],["mintcream","f5fffa"],["mistyrose","ffe4e1"],["moccasin","ffe4b5"],["navajowhite","ffdead"],["navy","000080"],["oldlace","fdf5e6"],["olive","808000"],["olivedrab","6b8e23"],["orange","ffa500"],["orangered","ff4500"],["orchid","da70d6"],["palegoldenrod","eee8aa"],["palegreen","98fb98"],["paleturquoise","afeeee"],["palevioletred","d87093"],["papayawhip","ffefd5"],["peachpuff","ffdab9"],["peru","cd853f"],["pink","ffc0cb"],["plum","dda0dd"],["powderblue","b0e0e6"],["purple","800080"],["rebeccapurple","663399"],["red","ff0000"],["rosybrown","bc8f8f"],["royalblue","4169e1"],["saddlebrown","8b4513"],["salmon","fa8072"],["sandybrown","f4a460"],["seagreen","2e8b57"],["seashell","fff5ee"],["sienna","a0522d"],["silver","c0c0c0"],["skyblue","87ceeb"],["slateblue","6a5acd"],["slategray","708090"],["slategrey","708090"],["snow","fffafa"],["springgreen","00ff7f"],["steelblue","4682b4"],["tan","d2b48c"],["teal","008080"],["thistle","d8bfd8"],["tomato","ff6347"],["turquoise","40e0d0"],["violet","ee82ee"],["wheat","f5deb3"],["white","ffffff"],["whitesmoke","f5f5f5"],["yellow","ffff00"],["yellowgreen","9acd32"]]),Ye=Wt;function Ht(a){return a.length<2?`0${a}`:a}function ie(a){let e=a;for(;e<0;)e+=360;for(;e>=360;)e-=360;return e}function B(a,e="1"){return a?String(a):a===0?"0":e}function Qe(a){return a.map(e=>Ht(Math.round(e*255).toString(16)))}function le(a){return a.map(e=>e.length===1?e.repeat(2):e).map(e=>parseInt(e,16)).map(e=>e/255)}var ce=class extends Error{constructor(e){super(`${JSON.stringify(e)} is not a valid color format`)}},N=class extends Error{constructor(e,t){super(`Invalid ${JSON.stringify(e)} value: ${JSON.stringify(t)}`)}},Ie=class extends Error{constructor(e){super(`Invalid angle value: ${JSON.stringify(e)}`)}},Pe=class extends Error{constructor(e){super(`Invalid arbitrary value: ${JSON.stringify(e)}`)}},_e=class extends Error{constructor(e,t){super(`Format ${e} does not have a property called ${t}`)}},Ee=class extends Error{constructor(e,t){super(`Conversion from ${JSON.stringify(e.id)} space to ${JSON.stringify(t.id)} space is impossible`)}},J=class extends Error{constructor(e){super(`${JSON.stringify(e)} is not a supported color space`)}},Te=class extends Error{constructor(e){super(`Conversion function ${e} does not exist`)}},D,Ae=class extends te{constructor(){super(...arguments);G(this,D,new Map)}shortestPath(t,r){let n=`${t}_to_${r}`,s=_(this,D).get(n);if(!s){let i=_(this,D).get(`${r}_to_${t}`);s=i?[...i].reverse():null}if(s)return s;let o=super.shortestPath(t,r);return _(this,D).set(n,o),o}};D=new WeakMap;var et=new Ae(Ce),F,V,L,q,j,l=class{constructor(e){G(this,F,0);G(this,V,0);G(this,L,0);G(this,q,0);G(this,j,new Map);if(e instanceof l||typeof e=="object"&&"r"in e&&"g"in e&&"b"in e)A(this,F,e.r),A(this,V,e.g),A(this,L,e.b),A(this,q,typeof e.a=="number"?e.a:1);else if(Array.isArray(e)&&(e.length==3||e.length==4))[R(this,F)._,R(this,V)._,R(this,L)._]=l.toGamut("srgb",e.slice(0,3),"srgb",{method:"naive"}),A(this,q,Math.max(0,Math.min(Number(B(e[3])),1)));else if(typeof e=="string"){let t=l.matchSyntax(e.trim());switch(t.id){case"hex":this.setHex([t.data[1],t.data[2],t.data[3],B(t.data[4],"ff")]);break;case"rgb":case"hsl":case"hwb":case"lab":case"lch":case"oklab":case"oklch":{let r=[t.data[1],t.data[2],t.data[3],B(t.data[4])],n=[...l.propertiesOf(t.id),"a"],s=l.getSpace(t.id);this.set(r,n,s)}break;case"color":this.setColor(t.data[1],[t.data[2],t.data[3],t.data[4],B(t.data[5])]);break;default:throw new ce(e)}}else throw new Error(`Couleur objects can only be created from a string, an array of parsed values, or another Couleur object ; this is not one: ${JSON.stringify(e)}`)}static makeInstance(e){return e instanceof l?e:new l(e)}static matchSyntax(e){let t=e.slice(0,3),r;if(t.slice(0,1)==="#")r=l.cssFormats[0];else switch(t){case"rgb":r=l.cssFormats[1];break;case"hsl":r=l.cssFormats[2];break;case"hwb":r=l.cssFormats[3];break;case"lab":r=l.cssFormats[4];break;case"lch":r=l.cssFormats[5];break;case"okl":e.startsWith("oklab")?r=l.cssFormats[6]:e.startsWith("oklch")&&(r=l.cssFormats[7]);break;case"col":r=l.cssFormats[8];break;default:r=l.cssFormats[9]}if(r==null)throw new Error("No matching format");for(let n of r.syntaxes){let s=e.match(n);if(s!=null&&s[0]===e)if(r.id==="name"){if(e==="transparent")return{id:"rgb",data:["","0","0","0","0"]};let i=l.namedColors.get(e.toLowerCase())||null;if(i)return l.matchSyntax(`#${i}`)}else return{id:r.id,data:s}}throw new ce(e)}static parse(e,t=null,{clamp:r=!0}={}){let n=String(e),s=parseFloat(n);switch(t){case"a":{if(new RegExp("^"+p.percentage+"$").test(n))return r?Math.max(0,Math.min(s/100,1)):s/100;if(new RegExp("^"+p.number+"$").test(n))return r?Math.max(0,Math.min(s,1)):s;throw new N(t,e)}case"r":case"g":case"b":{if(new RegExp("^"+p.percentage+"$").test(n))return r?Math.max(0,Math.min(s/100,1)):s/100;if(new RegExp("^"+p.number+"$").test(n))return r?Math.max(0,Math.min(s/255,1)):s/255;throw new N(t,e)}case"h":case"cieh":case"okh":{let o=s;if(new RegExp("^"+p.number+"$").test(n))return ie(o);if(new RegExp("^"+p.angle+"$").test(n)){if(n.slice(-3)!=="deg")if(n.slice(-4)==="grad")o=o*360/400;else if(n.slice(-3)==="rad")o=o*180/Math.PI;else if(n.slice(-4)==="turn")o=o*360;else throw new Ie(e);return ie(o)}else throw new N(t,e)}case"s":case"l":case"w":case"bk":case"ciel":case"okl":{if(new RegExp("^"+p.percentage+"$").test(n))return r?Math.max(0,Math.min(s/100,1)):s/100;throw new N(t,e)}case"ciea":case"cieb":case"oka":case"okb":case"okc":{if(new RegExp("^"+p.number+"$").test(n))return s;throw new N(t,e)}case"ciec":{if(new RegExp("^"+p.number+"$").test(n))return r?Math.max(0,s):s;throw new N(t,e)}default:{if(new RegExp("^"+p.percentage+"$").test(n))return s/100;if(new RegExp("^"+p.number+"$").test(n))return s;throw new Pe(e)}}}static unparse(e,t,{precision:r=0}={}){switch(t){case"r":case"g":case"b":return r===null?`${255*e}`:`${Math.round(w(10,r)*255*e)/w(10,r)}`;case"s":case"l":case"w":case"bk":case"ciel":case"okl":return r===null?`${100*e}%`:`${Math.round(w(10,r)*100*e)/w(10,r)}%`;case"oka":case"okb":case"okc":return r===null?`${e}`:`${Math.round(w(10,Math.max(r,4))*e)/w(10,Math.max(r,4))}`;case"a":return r===null?`${e}`:`${Math.round(w(10,Math.max(r,2))*e)/w(10,Math.max(r,2))}`;default:return r===null?`${e}`:`${Math.round(w(10,r)*e)/w(10,r)}`}}set(e,t,r,{parsed:n=!1}={}){let s=l.getSpace(r),o=n?e.map(i=>Number(i)):t.map((i,c)=>l.parse(e[c],i));[R(this,F)._,R(this,V)._,R(this,L)._]=l.convert(s,"srgb",o),A(this,q,l.parse(B(e[3]),"a"))}setHex(e){let[t,r,n]=e.map(i=>String(i)),s=String(e[3])||"ff",o=le([t,r,n,s]).map((i,c)=>c===3?i:i*255);this.set(o,["r","g","b"],"srgb")}setColor(e,t){let r=t.slice(0,3).map(o=>l.parse(o)),n=l.parse(t[3]);r=l.convert(e,"srgb",r);let s=[...r,n];return this.set(s,[null,null,null],"srgb")}expr(e,{precision:t=0,clamp:r=!0}={}){let s=e.toLowerCase().replace("color-",""),o=l.getSpace(s),i=this.valuesTo(o,{clamp:r});return l.makeExpr(e,[...i,this.a],{precision:t})}static makeExpr(e,t,{precision:r=0}={}){var c;let n=e.toLowerCase(),s=n.replace("color-",""),o=l.getSpace(s),i=Number(l.unparse((c=t[3])!=null?c:1,"a",{precision:r}));if(t=[...t.slice(0,3),i],n.toLowerCase().slice(0,5)==="color"){let[b,m,h]=t.map(u=>r===null?u:Math.round(w(10,r)*u)/w(10,r));return i<1?`color(${o.id} ${b} ${m} ${h} / ${i})`:`color(${o.id} ${b} ${m} ${h})`}else{let b=l.propertiesOf(n),[m,h,u]=b.map((g,f)=>l.unparse(t[f],g,{precision:r}));switch(n.toLowerCase()){case"rgb":case"rgba":case"hsl":case"hsla":return n.length>3&&n.slice(-1)==="a"||i<1?`${n}(${m}, ${h}, ${u}, ${i})`:`${n}(${m}, ${h}, ${u})`;default:return i<1?`${n}(${m} ${h} ${u} / ${i})`:`${n}(${m} ${h} ${u})`}}}get values(){return[this.r,this.g,this.b]}get name(){if(this.a===1){let e=l.namedColors,[t,r,n]=this.values,s=.02;for(let[o,i]of e.entries()){let[c,b,m]=le([`${i[0]}${i[1]}`,`${i[2]}${i[3]}`,`${i[4]}${i[5]}`]);if(Math.abs(c-t)+Math.abs(b-r)+Math.abs(m-n)<s)return o}return null}else return this.a===0?"transparent":null}get exactName(){if(this.a===1){let e=l.namedColors,t=this.hex.slice(1);for(let[r,n]of e.entries())if(n===t)return r;return null}else return this.a===0?"transparent":null}get closestName(){if(this.a<.5)return"transparent";let e=l.namedColors,[t,r,n]=this.values,s="",o=1/0;for(let[i,c]of e.entries()){let[b,m,h]=le([`${c[0]}${c[1]}`,`${c[2]}${c[3]}`,`${c[4]}${c[5]}`]),u=Math.abs(b-t)+Math.abs(m-r)+Math.abs(h-n);u<o&&(o=u,s=i)}return s}get hex(){let e=l.toGamut("srgb",this.values),t=Qe([...e,this.a]);return this.a<1?`#${t[0]}${t[1]}${t[2]}${t[3]}`:`#${t[0]}${t[1]}${t[2]}`}get rgb(){return this.expr("rgb",{precision:2,clamp:!0})}get rgba(){return this.rgb}get hsl(){return this.expr("hsl",{precision:2,clamp:!0})}get hsla(){return this.hsl}get hwb(){return this.expr("hwb",{precision:2,clamp:!0})}get lab(){return this.expr("lab",{precision:2,clamp:!0})}get lch(){return this.expr("lch",{precision:2,clamp:!0})}get oklab(){return this.expr("oklab",{precision:2,clamp:!0})}get oklch(){return this.expr("oklch",{precision:2,clamp:!0})}recompute(e,t,r){let n=[...l.propertiesOf(r),"a"];if(!n.includes(t))throw new _e(r,t);let s=typeof e=="string"?l.parse(e,t):e,o=[...this.valuesTo(r),this.a],i=n.map((c,b)=>c===t?s:o[b]);this.set(i,n,r,{parsed:!0}),A(this,j,new Map)}set r(e){this.recompute(e,"r","rgb")}set red(e){this.r=e}set g(e){this.recompute(e,"g","rgb")}set green(e){this.g=e}set b(e){this.recompute(e,"b","rgb")}set blue(e){this.b=e}set a(e){this.recompute(e,"a","rgb")}set alpha(e){this.a=e}set opacity(e){this.a=e}set h(e){this.recompute(e,"h","hsl")}set hue(e){this.h=e}set s(e){this.recompute(e,"s","hsl")}set saturation(e){this.s=e}set l(e){this.recompute(e,"l","hsl")}set lightness(e){this.l=e}set w(e){this.recompute(e,"w","hwb")}set whiteness(e){this.w=e}set bk(e){this.recompute(e,"bk","hwb")}set blackness(e){this.bk=e}set ciel(e){this.recompute(e,"ciel","lab")}set CIElightness(e){this.ciel=e}set ciea(e){this.recompute(e,"ciea","lab")}set cieb(e){this.recompute(e,"cieb","lab")}set ciec(e){this.recompute(e,"ciec","lch")}set CIEchroma(e){this.ciec=e}set cieh(e){this.recompute(e,"cieh","lch")}set CIEhue(e){this.cieh=e}set okl(e){this.recompute(e,"okl","oklab")}set OKlightness(e){this.okl=e}set oka(e){this.recompute(e,"oka","oklab")}set okb(e){this.recompute(e,"okb","oklab")}set okc(e){this.recompute(e,"okc","oklch")}set OKchroma(e){this.okc=e}set okh(e){this.recompute(e,"okh","oklch")}set OKhue(e){this.okh=e}get r(){return _(this,F)}get red(){return this.r}get g(){return _(this,V)}get green(){return this.g}get b(){return _(this,L)}get blue(){return this.b}get a(){return _(this,q)}get alpha(){return this.a}get opacity(){return this.a}get h(){return this.valuesTo("hsl")[0]}get hue(){return this.h}get s(){return this.valuesTo("hsl")[1]}get saturation(){return this.s}get l(){return this.valuesTo("hsl")[2]}get lightness(){return this.l}get w(){return this.valuesTo("hwb")[1]}get whiteness(){return this.w}get bk(){return this.valuesTo("hwb")[2]}get blackness(){return this.bk}get ciel(){return this.valuesTo("lab")[0]}get CIElightness(){return this.ciel}get ciea(){return this.valuesTo("lab")[1]}get cieb(){return this.valuesTo("lab")[2]}get ciec(){return this.valuesTo("lch")[1]}get CIEchroma(){return this.ciec}get cieh(){return this.valuesTo("lch")[2]}get CIEhue(){return this.cieh}get okl(){return this.valuesTo("oklab")[0]}get OKlightness(){return this.okl}get oka(){return this.valuesTo("oklab")[1]}get okb(){return this.valuesTo("oklab")[2]}get okc(){return this.valuesTo("oklch")[1]}get OKchroma(){return this.okc}get okh(){return this.valuesTo("oklch")[2]}get OKhue(){return this.okh}set luminance(e){let[t,r,n]=this.values,s=this.luminance,o=l.parse(e,"a",{clamp:!0});if(s===0)this.r=o,this.g=o,this.b=o;else{let i=o/s;this.r=i*t,this.g=i*r,this.b=i*n}}get luminance(){if(this.a<1)throw new Error("The luminance of a transparent color would be meaningless");return Y(this.values)}static convert(e,t,r){if(typeof e==typeof t&&e===t||typeof e=="string"&&typeof t!="string"&&e===t.id||typeof e!="string"&&typeof t=="string"&&e.id===t)return r;let n=l.getSpace(e),s=l.getSpace(t),o,i=et;try{o=i.shortestPath(n.id,s.id).map(b=>b.id)}catch(b){throw b instanceof ee?new Ee(n,s):b instanceof Q?b.id===n.id?new J(n.id):b.id===s.id?new J(s.id):b:b}let c=r;for(;o.length>1;){let b=o.shift(),m=o[0],h=`${b}_to_${m}`.replace(/-/g,""),u=H[h];if(typeof u!="function")throw new Te(h);c=u(c)}return c}valuesTo(e,{clamp:t=!1}={}){let r=l.getSpace(e),n=_(this,j).get(r.id);return n||(n=l.convert("srgb",r,this.values),_(this,j).set(r.id,n)),t&&(n=l.toGamut(r,n,r)),n}static inGamut(e,t,r="srgb",{tolerance:n=1e-4}={}){let s=l.getSpace(e),o=s.gamutSpace?l.getSpace(s.gamutSpace):s;return(t instanceof l?t.valuesTo(o):l.convert(r,o,t)).every((c,b)=>c>=o.gamut[b][0]-n&&c<=o.gamut[b][1]+n)}inGamut(e,t={}){return l.inGamut(e,this,void 0,t)}static toGamut(e,t,r="srgb",{method:n="okchroma"}={}){let s=l.getSpace(e),o=s.gamutSpace?l.getSpace(s.gamutSpace):s,i=l.getSpace(r),c=n.toLowerCase();if(t instanceof l){if(t.inGamut(s,{tolerance:0}))return t.valuesTo(i);t=t.valuesTo(i)}else if(l.inGamut(s,t,i,{tolerance:0}))return t;let b,m;switch(c){case"okchroma":{m=l.getSpace("oklch");let h=l.convert(i,m,t),u=1e-6,g=.02;if(h[0]>=1-u)return l.convert(o,i,o.white||[1,1,1]);if(h[0]<=0+u)return l.convert(o,i,o.black||[0,0,0]);let f=0,x=h[1];for(h[1]=h[1]/2;x-f>u;){if(l.inGamut(s,h,m,{tolerance:0}))f=h[1];else{let d=l.toGamut(s,h,m,{method:"naive"}),k=l.convert(m,"oklab",d),y=l.convert(m,"oklab",h);if(K(k,y)<g){h=d;break}x=h[1]}h[1]=(f+x)/2}b=h}break;default:m=o,b=l.convert(i,m,t).map((u,g)=>Math.max(o.gamut[g][0],Math.min(u,o.gamut[g][1])))}return c!=="naive"&&(b=l.toGamut(s,b,m,{method:"naive"})),l.convert(m,i,b)}toGamut(e){let t=l.getSpace(e),r=l.toGamut(t,this,void 0);return new l([...r,this.a])}change(e,t,{action:r}={}){let n=(r==null?void 0:r.toLowerCase())==="replace",s=(r==null?void 0:r.toLowerCase())==="scale",o=s?l.parse(t):l.parse(t,e,{clamp:!1}),i=new l(this),c=this[e],b=n?o:s?c*o:c+o;return i[e]=b,i}replace(e,t){return this.change(e,t,{action:"replace"})}scale(e,t){return this.change(e,t,{action:"scale"})}complement(){return this.change("h",180)}negative(){return new l([1-this.r,1-this.g,1-this.b,this.a])}invert(){return this.negative()}greyscale(){let e=this.replace("a",1).luminance;return new l([e,e,e,this.a])}grayscale(){return this.greyscale()}sepia(){let e=Math.min(.393*this.r+.769*this.g+.189*this.b,1),t=Math.min(.349*this.r+.686*this.g+.168*this.b,1),r=Math.min(.272*this.r+.534*this.g+.131*this.b,1);return new l([e,t,r,this.a])}static blend(e,t,r){let n=l.makeInstance(e),s=l.makeInstance(t);if(r!=null&&(s.a=l.parse(r,"a")),s.a===0)return n;if(s.a===1)return s;let o=s.a+n.a*(1-s.a),i=(s.r*s.a+n.r*n.a*(1-s.a))/o,c=(s.g*s.a+n.g*n.a*(1-s.a))/o,b=(s.b*s.a+n.b*n.a*(1-s.a))/o;return new l([i,c,b,o])}static blendAll(...e){if(e.length<2)throw new Error("You need at least 2 colors to blend");let t=e.shift(),r=e.shift();if(t==null||r==null)throw new Error("Cannot blend undefined color");let n=l.blend(t,r);return e.length===0?n:l.blendAll(n,...e)}blend(e,t){return l.blend(this,e,t)}blendAll(...e){return l.blendAll(this,...e)}static unblend(e,t,r){let n=l.makeInstance(e),s=l.makeInstance(t);if(r!=null&&(s.a=l.parse(r,"a")),s.a===1)throw new Error(`Overlay color ${JSON.stringify(s.rgb)} isn't transparent, so the background it was blended onto could have been any color`);if(s.a===0)return n;if(n.a<s.a)return null;if(n.a===s.a)return l.same(n,s)?new l([0,0,0,0]):null;{let o=(n.a-s.a)/(1-s.a),i=(n.r*n.a-s.r*s.a)/(o*(1-s.a)),c=(n.g*n.a-s.g*s.a)/(o*(1-s.a)),b=(n.b*n.a-s.b*s.a)/(o*(1-s.a)),m=l.toGamut("srgb",[i,c,b],"srgb");return new l([...m,o])}}static unblendAll(...e){if(e.length<2)throw new Error("You need at least 2 colors to unblend");let t=e.shift(),r=e.shift();if(t==null||r==null)throw new Error("Cannot unblend undefined color");let n=l.unblend(t,r);return n==null?null:e.length===0?n:l.unblendAll(n,...e)}unblend(e,t){return l.unblend(this,e,t)}unblendAll(...e){return l.unblendAll(this,...e)}static whatToBlend(e,t,r=[],{ignoreTransparent:n=!1}={}){let s=l.makeInstance(e),o=l.makeInstance(t),i=[],c=u=>{let g=(o.r*o.a-s.r*s.a*(1-u))/u,f=(o.g*o.a-s.g*s.a*(1-u))/u,x=(o.b*o.a-s.b*s.a*(1-u))/u;if(!l.inGamut("srgb",[g,f,x],"srgb",{tolerance:1/255}))throw new Error("This color doesn't exist");let d=l.toGamut("srgb",[g,f,x],"srgb",{method:"naive"});return new l([...d,u])},b=[r].flat(),m=b.length>0?b.filter(u=>u>0&&u<1):Array.from({length:9},(u,g)=>(g+1)/10);if(o.a<s.a)return[];if(o.a>s.a)if(o.a===1)i.push(o);else if(s.a===0)i.push(o);else{let u=(o.a-s.a)/(1-s.a);try{i.push(c(u))}catch(g){return[]}}else if(o.a===s.a)if(o.a===0)i.push(new l("transparent"));else if(o.a<1)if(l.same(o,s))i.push(new l("transparent"));else return[];else{l.same(o,s)&&i.push(new l("transparent"));for(let u of m)try{i.push(c(u))}catch(g){continue}i.push(o)}let h=b.length>0?i.filter(u=>b.includes(u.a)):i;return n&&(h=h.filter(u=>u.a>0)),h}whatToBlend(e,t){return l.whatToBlend(this,e,t)}static contrast(e,t,{method:r="apca"}={}){let n=l.makeInstance(t);if(n.a<1)throw new Error("The contrast with a transparent background color would be meaningless");let s=l.makeInstance(e);switch(s.a<1&&(s=l.blend(n,s)),r.toLowerCase()){case"apca":return ne(s.values,n.values);case"wcag2":default:return Me(s.values,n.values)}}contrast(e,t={}){return l.contrast(this,e,t)}bestColorScheme(e="background"){let t=[...this.toGamut("srgb").values,this.a];switch(e){case"text":{let r=Math.abs(l.contrast(t,"black",{method:"apca"})),n=Math.abs(l.contrast(t,"white",{method:"apca"}));return r>=n?"dark":"light"}case"background":{let r=Math.abs(l.contrast("black",t,{method:"apca"})),n=Math.abs(l.contrast("white",t,{method:"apca"}));return r>=n?"light":"dark"}}}improveContrast(e,t,{as:r="text",lower:n=!1,colorScheme:s,method:o="apca"}={}){let i=r==="text"?l.makeInstance(e):this,c=r==="text"?this:l.makeInstance(e),b=i.valuesTo("oklab"),m=c.valuesTo("oklab"),h=r==="text"?m:b,u=Math.abs(l.contrast(c,i,{method:o})),g;if(u>t?g=-1:u<t?g=1:g=0,g<0&&n===!1||g===0)return this;let f=s||(b[0]<m[0]?"dark":"light"),x=Math.abs(r==="text"?l.contrast(i,"black",{method:o}):l.contrast("black",c,{method:o})),d=Math.abs(r==="text"?l.contrast(i,"white",{method:o}):l.contrast("white",c,{method:o})),k={lowering:g>0?x>=t:x<=t,raising:g>0?d>=t:d<=t},y;if(k.lowering&&!k.raising)y=-1;else if(k.raising&&!k.lowering)y=1;else{if(!k.raising&&!k.lowering)return r==="text"?f==="light"?new l("black"):new l("white"):f==="light"?new l("white"):new l("black");f==="light"&&g>0?y=-1:f==="light"&&g<0||f==="dark"&&g>0?y=1:y=-1,r==="background"&&(y=-y)}let C=1e-4,$=y>0?h[0]:0,M=y>0?1:h[0];for(;M-$>C;){let S=($+M)/2,I=h;I[0]=S;let P=Math.abs(r==="text"?l.contrast(l.convert("oklab","srgb",I),i,{method:o}):l.contrast(c,l.convert("oklab","srgb",I),{method:o}));(g>0?P<t:P>t)?y>0?$=S:M=S:y>0?M=S:$=S,h[0]=S}let v=new l(l.convert("oklab","srgb",h));return Math.abs(r==="text"?l.contrast(v,i,{method:o}):l.contrast(c,v,{method:o}))<t&&(r==="text"?f==="light"?h[0]=$:h[0]=M:f==="light"?h[0]=M:h[0]=$),new l(l.convert("oklab","srgb",h))}static distance(e,t,{method:r="deltae2000",alpha:n=!0}={}){let s=l.makeInstance(e),o=l.makeInstance(t),i=1/0,c=1;switch(r.toLowerCase()){case"ciede2000":case"deltae2000":{let[m,h]=[s,o].map(u=>u.valuesTo("lab"));i=Se(m,h),c=50}break;case"deltaeok":{let[m,h]=[s,o].map(u=>u.valuesTo("oklab"));i=K(m,h)}break;case"euclidean":default:{let[m,h]=[s,o].map(u=>u.values);i=K(m,h)}}let b=n?K([s.a],[o.a]):0;return i+c*b}distance(e,t={}){return l.distance(this,e,t)}static same(e,t,{tolerance:r=1,method:n="deltae2000"}={}){return!(l.distance(e,t,{method:n})>r)}same(e,t={}){return l.same(this,e,t)}static interpolate(e,t,r,n,{hueInterpolationMethod:s="shorter",premultiplyAlpha:o=!0}={}){let i=l.makeInstance(e),c=l.makeInstance(t),b=Math.max(0,r),m=l.getSpace(n),h=l.propertiesOf(m.id),u=i.valuesTo(m),g=c.valuesTo(m),f=(C,$)=>C.map((M,v)=>{switch(h[v]){case"h":case"cieh":case"okh":return M;default:return $*M}});o&&(u=f(u,i.a),g=f(g,c.a));let x=h.map((C,$)=>{switch(C){case"h":case"cieh":case"okh":{let M=g[$]-u[$];switch(s){case"shorter":M>180?u[$]+=360:M<-180&&(g[$]+=360);break;case"longer":0<M&&M<180?u[$]+=360:-180<M&&M<=0&&(g[$]+=360);break;case"increasing":M<0&&(g[$]+=360);break;case"decreasing":0<M&&(u[$]+=360);break}}default:return(g[$]-u[$])/(b+1)}}),d=(c.a-i.a)/(b+1),k=[u];for(let C=1;C<=b;C++){let $=k[C-1],M=h.map((v,O)=>{let S=$[O]+x[O];switch(v){case"h":case"cieh":case"okh":return ie(S);default:return S}});k.push(M)}k.push(g);let y=(C,$)=>C.map((M,v)=>{let O=i.a+$*d;switch(h[v]){case"h":case"cieh":case"okh":return M;default:return M/O}});return o&&(k=k.map((C,$)=>y(C,$))),k.map((C,$)=>new l([...l.convert(m,"srgb",C),i.a+$*d]))}interpolate(e,t,r,n={}){return l.interpolate(this,e,t,r,n)}static propertiesOf(e){var t;return(t=l.getSpace(e.toLowerCase()).properties)!=null?t:[]}static get properties(){var t;let e=new Set;for(let r of l.colorSpaces)(t=r.properties)==null||t.map(n=>e.add(n));return[...e,"a"]}static getSpace(e){let t;if(typeof e!="string"){if(e==null)throw new J("null");return e}else{let r=e.toLowerCase();if(t=l.colorSpaces.find(n=>n.id===r||n.aliases.includes(r)),t==null)throw new J(e);return t}}static get colorSpaces(){return Ce}static get colorSpacesGraph(){return et}static get cssFormats(){return Xe}static get namedColors(){return Ye}},ue=l;F=new WeakMap,V=new WeakMap,L=new WeakMap,q=new WeakMap,j=new WeakMap;export{ae as Contrasts,H as Conversions,oe as Distances,ue as default};
