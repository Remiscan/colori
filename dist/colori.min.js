function e(e){let t=e;for(;t<0;)t+=360;for(;t>360;)t-=360;return t}function t(e){return e.map((e=>Math.abs(e)<.04045?e/12.92:(Math.sign(e)||1)*Math.pow((Math.abs(e)+.055)/1.055,2.4)))}function a(e){return e.map((e=>Math.abs(e)>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(Math.abs(e),1/2.4)-.055):12.92*e))}function r(e){const[t,a,r]=e,n=Math.sqrt(a**2+r**2);let s=180*Math.atan2(r,a)/Math.PI;for(;s<0;)s+=360;for(;s>360;)s-=360;return[t,n,s]}function n(e){const[t,a,r]=e;return[t,a*Math.cos(r*Math.PI/180),a*Math.sin(r*Math.PI/180)]}function s(e){const[t,a,r]=e;let n=.4122214708*t+.5363325363*a+.0514459929*r,s=.2119034982*t+.6806995451*a+.1073969566*r,i=.0883024619*t+.2817188376*a+.6299787005*r;n=Math.cbrt(n),s=Math.cbrt(s),i=Math.cbrt(i);return[.2104542553*n+.793617785*s+-.0040720468*i,1.9779984951*n+-2.428592205*s+.4505937099*i,.0259040371*n+.7827717662*s+-.808675766*i]}function i(e){const[t,a,r]=e;let n=t+.3963377774*a+.2158037573*r,s=t+-.1055613458*a+-.0638541728*r,i=t+-.0894841775*a+-1.291485548*r;n=n**3,s=s**3,i=i**3;return[4.0767416621*n+-3.3077115913*s+.2309699292*i,-1.2684380046*n+2.6097574011*s+-.3413193965*i,-.0041960863*n+-.7034186147*s+1.707614701*i]}function o(e){return r(e)}const c=Object.freeze({__proto__:null,srgb_to_lin_srgb:t,lin_srgb_to_srgb:a,lin_srgb_to_d65xyz:function(e){const[t,a,r]=e;return[.41239079926595934*t+.357584339383878*a+.1804807884018343*r,.21263900587151027*t+.715168678767756*a+.07219231536073371*r,.01933081871559182*t+.11919477979462598*a+.9505321522496607*r]},d65xyz_to_lin_srgb:function(e){const[t,a,r]=e;return[3.2409699419045226*t+-1.537383177570094*a+-.4986107602930034*r,-.9692436362808796*t+1.8759675015077202*a+.04155505740717559*r,.05563007969699366*t+-.20397695888897652*a+1.0569715142428786*r]},srgb_to_hsl:function(e){const[t,a,r]=e,n=Math.max(t,a,r),s=Math.min(t,a,r),i=n-s,o=(n+s)/2;let c,l;if(0===i)c=0;else switch(n){case t:c=(a-r)/i;break;case a:c=(r-t)/i+2;break;case r:c=(t-a)/i+4}for(c*=60;c<0;)c+=360;for(;c>360;)c-=360;return l=0===o||1===o?0:o<=.5?i/(2*o):i/(2-2*o),[c,l,o]},hsl_to_srgb:function(e){const[t,a,r]=e,n=a*Math.min(r,1-r),s=e=>(e+t/30)%12,i=e=>r-n*Math.max(Math.min(s(e)-3,9-s(e),1),-1);return[i(0),i(8),i(4)]},hsl_to_hwb:function(e){const[t,a,r]=e;let n;const s=r+a*Math.min(r,1-r);return n=0===s?0:2-2*r/s,[t,(1-n)*s,1-s]},hwb_to_hsl:function(e){const[t,a,r]=e;let n,s=a,i=r;a+r>1&&(s=a/(a+r),i=r/(a+r));const o=1-i;let c;n=1===i?0:1-s/o;const l=o-o*n/2;return c=0===l||1===l?0:(o-l)/Math.min(l,1-l),[t,c,l]},displayp3_to_lin_displayp3:function(e){return t(e)},lin_displayp3_to_displayp3:function(e){return a(e)},lin_displayp3_to_d65xyz:function(e){const[t,a,r]=e;return[.4865709486482162*t+.26566769316909306*a+.1982172852343625*r,.2289745640697488*t+.6917385218365064*a+.079286914093745*r,0*t+.04511338185890264*a+1.043944368900976*r]},d65xyz_to_lin_displayp3:function(e){const[t,a,r]=e;return[2.493496911941425*t+-.9313836179191239*a+-.40271078445071684*r,-.8294889695615747*t+1.7626640603183463*a+.023624685841943577*r,.03584583024378447*t+-.07617238926804182*a+.9568845240076872*r]},prophotorgb_to_lin_prophotorgb:function(e){return e.map((e=>Math.abs(e)<=16/512?e/16:(Math.sign(e)||1)*Math.pow(e,1.8)))},lin_prophotorgb_to_prophotorgb:function(e){return e.map((e=>Math.abs(e)>=1/512?(Math.sign(e)||1)*Math.pow(Math.abs(e),1/1.8):16*e))},lin_prophotorgb_to_xyz:function(e){const[t,a,r]=e;return[.7977604896723027*t+.13518583717574031*a+.0313493495815248*r,.2880711282292934*t+.7118432178101014*a+8565396060525902e-20*r,0*t+0*a+.8251046025104601*r]},xyz_to_lin_prophotorgb:function(e){const[t,a,r]=e;return[1.3457989731028281*t+-.25558010007997534*a+-.05110628506753401*r,-.5446224939028347*t+1.5082327413132781*a+.02053603239147973*r,0*t+0*a+1.2119675456389454*r]},a98rgb_to_lin_a98rgb:function(e){return e.map((e=>(Math.sign(e)||1)*Math.pow(Math.abs(e),563/256)))},lin_a98rgb_to_a98rgb:function(e){return e.map((e=>(Math.sign(e)||1)*Math.pow(Math.abs(e),256/563)))},lin_a98rgb_to_d65xyz:function(e){const[t,a,r]=e;return[.5766690429101305*t+.1855582379065463*a+.1882286462349947*r,.29734497525053605*t+.6273635662554661*a+.07529145849399788*r,.02703136138641234*t+.07068885253582723*a+.9913375368376388*r]},d65xyz_to_lin_a98rgb:function(e){const[t,a,r]=e;return[2.0415879038107465*t+-.5650069742788596*a+-.34473135077832956*r,-.9692436362808795*t+1.8759675015077202*a+.04155505740717557*r,.013444280632031142*t+-.11836239223101838*a+1.0151749943912054*r]},rec2020_to_lin_rec2020:function(e){return e.map((e=>Math.abs(e)<.08124285829863151?e/4.5:(Math.sign(e)||1)*Math.pow(Math.abs(e)+1.09929682680944-1,1/.45)))},lin_rec2020_to_rec2020:function(e){const t=1.09929682680944;return e.map((e=>Math.abs(e)>.018053968510807?(Math.sign(e)||1)*(t*Math.pow(Math.abs(e),.45)-(t-1)):4.5*e))},lin_rec2020_to_d65xyz:function(e){const[t,a,r]=e;return[.6369580483012914*t+.14461690358620832*a+.1688809751641721*r,.2627002120112671*t+.6779980715188708*a+.05930171646986196*r,0*t+.028072693049087428*a+1.060985057710791*r]},d65xyz_to_lin_rec2020:function(e){const[t,a,r]=e;return[1.7166511879712674*t+-.35567078377639233*a+-.25336628137365974*r,-.6666843518324892*t+1.6164812366349395*a+.01576854581391113*r,.017639857445310783*t+-.042770613257808524*a+.9421031212354738*r]},xyz_to_lab:function(e){const t=[.96422,1,.82521],[a,r,n]=e.map(((e,a)=>e/t[a])),[s,i,o]=[a,r,n].map((e=>(e=>e>.008856451679035631?Math.cbrt(e):(903.2962962962963*e+16)/116)(e)));return[(116*i-16)/100,500*(s-i),200*(i-o)]},lab_to_xyz:function(e){const t=216/24389,a=24389/27,r=[.96422,1,.82521];let[n,s,i]=e;n*=100;const o=(n+16)/116,c=s/500+o,l=o-i/200;return[c**3>t?c**3:(116*c-16)/a,n>8?((n+16)/116)**3:n/a,l**3>t?l**3:(116*l-16)/a].map(((e,t)=>e*r[t]))},lab_to_lch:r,lch_to_lab:n,lin_srgb_to_oklab:s,oklab_to_lin_srgb:i,oklab_to_oklch:o,oklch_to_oklab:function(e){return n(e)},d65xyz_to_xyz:function(e){const[t,a,r]=e;return[1.0479298208405488*t+.022946793341019088*a+-.05019222954313557*r,.029627815688159344*t+.990434484573249*a+-.01707382502938514*r,-.009243058152591178*t+.015055144896577895*a+.7518742899580008*r]},xyz_to_d65xyz:function(e){const[t,a,r]=e;return[.9554734527042182*t+-.023098536874261423*a+.0632593086610217*r,-.028369706963208136*t+1.0099954580058226*a+.021041398966943008*r,.012314001688319899*t+-.020507696433477912*a+1.3303659366080753*r]}});class l{id;links;visited=!1;predecessor=null;constructor(e){this.id=e.id,this.links=e.links}visit(e=!0){this.visited=e}unvisit(){this.visited=!1}follow(e){this.predecessor=e}unfollow(){this.predecessor=null}}class h{nodes;constructor(e){this.nodes=e.map((e=>new l(e)))}getNode(e){const t=this.nodes.find((t=>t.id===e));if(void 0===t)throw`Node ${JSON.stringify(e)} does not exist`;return t}cleanUp(){for(const e of this.nodes)e.unvisit(),e.unfollow()}shortestPath(e,t){if(e===t)return[];const a=this.getNode(e),r=this.getNode(t),n=[a];a.visit();let s=!1;e:for(;n.length>0;){const e=n.shift();if(e.id===r.id){s=!0;break e}for(const t of e.links){const a=this.getNode(t);!1===a.visited&&(a.visit(),a.follow(e),n.push(a))}}if(!s)throw`No path found from ${JSON.stringify(a.id)} to ${JSON.stringify(r.id)}`;const i=[r];let o=r;for(;null!=o.predecessor;)i.push(o.predecessor),o=o.predecessor;return this.cleanUp(),i.reverse()}topologicalOrder(){const e=[],t=[...this.nodes],a=t=>{if(!0!==t.visited){if("temp"===t.visited)throw"The graph is not a directed acyclic graph";t.visit("temp");for(const e of t.links)a(e);t.visit(!0),e.push(t)}};for(;t.length>0;){const e=t.shift();a(e)}return this.cleanUp(),e.reverse()}}function u(e){const a=t(e);return.2126729*a[0]+.7151522*a[1]+.072175*a[2]}function f(e,t){const a=[.2126729,.7151522,.072175];let[r,n]=[e,t].map((e=>(e=>e.reduce(((e,t,r)=>e+Math.pow(t,2.4)*a[r]),0))(e)));[r,n]=[r,n].map((e=>e>.03?e:e+Math.pow(.03-e,1.45)));if(Math.abs(r-n)<5e-4)return 0;let s;const i=(e,t,a,r)=>1.25*(Math.pow(e,a)-Math.pow(t,r)),o=.06;if(n>r){const e=i(n,r,.55,.58);s=e<.001?0:e<.078?.23076923076923084*e:e-o}else{const e=i(n,r,.62,.57);s=e>-.001?0:e>-.078?.23076923076923084*e:e+o}return 100*s}function g(e,t,a,r,n){const[s,o]=function(e,t){const a=function(e,t){let a,r,n,s,i,o,c,l;-1.88170328*e-.80936493*t>1?(a=1.19086277,r=1.76576728,n=.59662641,s=.75515197,i=.56771245,o=4.0767416621,c=-3.3077115913,l=.2309699292):1.81444104*e-1.19445276*t>1?(a=.73956515,r=-.45954404,n=.08285427,s=.1254107,i=.14503204,o=-1.2684380046,c=2.6097574011,l=-.3413193965):(a=1.35733652,r=-.00915799,n=-1.1513021,s=-.50559606,i=.00692167,o=-.0041960863,c=-.7034186147,l=1.707614701);let h=a+r*e+n*t+s*e*e+i*e*t;const u=.3963377774*e+.2158037573*t,f=-.1055613458*e-.0638541728*t,g=-.0894841775*e-1.291485548*t,[b,p,d]=[u,f,g].map((e=>1+h*e)),[m,w,$]=[b,p,d].map((e=>e**3)),y=o*m+c*w+l*$,k=o*(3*u*b*b)+c*(3*f*p*p)+l*(3*g*d*d);return h-=y*k/(k*k-.5*y*(o*(6*u*u*b)+c*(6*f*f*p)+l*(6*g*g*d))),h}(e,t),r=i([1,a*e,a*t]),n=Math.cbrt(1/Math.max(...r));return[n,n*a]}(e,t);let c;if((a-n)*o-(s-n)*r<=0)c=o*n/(r*s+o*(n-a));else{c=o*(n-1)/(r*(s-1)+o*(n-a));const i=a-n,l=r,h=.3963377774*e+.2158037573*t,u=-.1055613458*e-.0638541728*t,f=-.0894841775*e-1.291485548*t,[g,b,p]=[h,u,f].map((e=>i+l*e));for(let e=0;e<2;e++){const e=n*(1-c)+c*a,t=c*r,[s,i,o]=[h,u,f].map((a=>e+t*a)),[l,d,m]=[s,i,o].map((e=>e**3)),w=3*g*s*s,$=3*b*i*i,y=3*p*o*o,k=6*g*g*s,M=6*b*b*i,v=6*p*p*o,_=(e,t,a)=>{const r=e*l+t*d+a*m-1,n=e*w+t*$+a*y,s=n/(n*n-.5*r*(e*k+t*M+a*v));return s>=0?-r*s:Number.MAX_VALUE},x=_(4.0767416621,-3.3077115913,.2309699292),S=_(-1.2684380046,2.6097574011,-.3413193965),O=_(-.0041960863,-.7034186147,1.707614701);c+=Math.min(x,S,O)}}return c}const b=[{id:"srgb",whitepoint:"d65",CSSformat:"rgb",gamut:[[0,1],[0,1],[0,1]],links:["lin_srgb","hsl"]},{id:"lin_srgb",links:["srgb","d65xyz","oklab"]},{id:"hsl",whitepoint:"d65",CSSformat:"hsl",gamut:[[0,360],[0,1],[0,1]],links:["srgb","hwb"]},{id:"hwb",whitepoint:"d65",CSSformat:"hwb",gamut:[[0,360],[0,1],[0,1]],links:["hsl"]},{id:"lab",whitepoint:"d50",CSSformat:"lab",gamut:[[0,4],[-1/0,1/0],[-1/0,1/0]],links:["xyz","lch"]},{id:"lch",whitepoint:"d50",CSSformat:"lch",gamut:[[0,4],[0,1/0],[0,360]],links:["lab"]},{id:"xyz",whitepoint:"d50",CSSformat:"color",gamut:[[-1/0,1/0],[-1/0,1/0],[-1/0,1/0]],links:["lab","d65xyz","lin_prophoto-rgb"]},{id:"d65xyz",whitepoint:"d65",links:["xyz","lin_srgb","lin_display-p3","lin_a98-rgb","lin_rec2020"]},{id:"display-p3",whitepoint:"d65",CSSformat:"color",gamut:[[0,1],[0,1],[0,1]],links:["lin_display-p3"]},{id:"lin_display-p3",links:["display-p3","d65xyz"]},{id:"a98-rgb",whitepoint:"d65",CSSformat:"color",gamut:[[0,1],[0,1],[0,1]],links:["lin_a98-rgb"]},{id:"lin_a98-rgb",links:["a98-rgb","d65xyz"]},{id:"prophoto-rgb",whitepoint:"d50",CSSformat:"color",gamut:[[0,1],[0,1],[0,1]],links:["lin_prophoto-rgb"]},{id:"lin_prophoto-rgb",links:["prophoto-rgb","xyz"]},{id:"rec2020",whitepoint:"d65",CSSformat:"color",gamut:[[0,1],[0,1],[0,1]],links:["lin_rec2020"]},{id:"lin_rec2020",links:["rec2020","d65xyz"]},{id:"oklab",whitepoint:"d65",gamut:[[0,4],[-1/0,1/0],[-1/0,1/0]],links:["lin_srgb","oklch"]},{id:"oklch",whitepoint:"d65",gamut:[[0,4],[0,1/0],[0,360]],links:["oklab"]}],p={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},d="(?:\\-|\\+)?(?:[0-9]+(?:\\.[0-9]+)?|\\.[0-9]+)(?:(?:e|E)(?:\\-|\\+)?[0-9]+)?",m={number:d,percentage:d+"%",numberOrPercentage:d+"%?",angle:d+"(?:deg|grad|rad|turn)?"},w=[{id:"hex",syntaxes:[/^#([a-fA-F0-9]{1})([a-fA-F0-9]{1})([a-fA-F0-9]{1})$/,/^#([a-fA-F0-9]{1})([a-fA-F0-9]{1})([a-fA-F0-9]{1})([a-fA-F0-9]{1})$/,/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/]},{id:"rgb",syntaxes:[new RegExp(`^rgba?\\((${m.number}), ?(${m.number}), ?(${m.number})\\)$`),new RegExp(`^rgba?\\((${m.number}), ?(${m.number}), ?(${m.number}), ?(${m.numberOrPercentage})\\)$`),new RegExp(`^rgba?\\((${m.percentage}), ?(${m.percentage}), ?(${m.percentage})\\)$`),new RegExp(`^rgba?\\((${m.percentage}), ?(${m.percentage}), ?(${m.percentage}), ?(${m.numberOrPercentage})\\)$`),new RegExp(`^rgba?\\((${m.number}) (${m.number}) (${m.number})\\)$`),new RegExp(`^rgba?\\((${m.number}) (${m.number}) (${m.number}) ?\\/ ?(${m.numberOrPercentage})\\)$`),new RegExp(`^rgba?\\((${m.percentage}) (${m.percentage}) (${m.percentage})\\)$`),new RegExp(`^rgba?\\((${m.percentage}) (${m.percentage}) (${m.percentage}) ?\\/ ?(${m.numberOrPercentage})\\)$`)]},{id:"hsl",syntaxes:[new RegExp(`^hsla?\\((${m.angle}), ?(${m.percentage}), ?(${m.percentage})\\)$`),new RegExp(`^hsla?\\((${m.angle}), ?(${m.percentage}), ?(${m.percentage}), ?(${m.numberOrPercentage})\\)$`),new RegExp(`^hsla?\\((${m.angle}) (${m.percentage}) (${m.percentage})\\)$`),new RegExp(`^hsla?\\((${m.angle}) (${m.percentage}) (${m.percentage}) ?\\/ ?(${m.numberOrPercentage})\\)$`)]},{id:"hwb",syntaxes:[new RegExp(`^hwb\\((${m.angle}) (${m.percentage}) (${m.percentage})\\)$`),new RegExp(`^hwb\\((${m.angle}) (${m.percentage}) (${m.percentage}) ?\\/ ?(${m.numberOrPercentage})\\)$`)]},{id:"lab",syntaxes:[new RegExp(`^lab\\((${m.percentage}) (${m.number}) (${m.number})\\)$`),new RegExp(`^lab\\((${m.percentage}) (${m.number}) (${m.number}) ?\\/ ?(${m.numberOrPercentage})\\)$`)]},{id:"lch",syntaxes:[new RegExp(`^lch\\((${m.percentage}) (${m.number}) (${m.angle})\\)$`),new RegExp(`^lch\\((${m.percentage}) (${m.number}) (${m.angle}) ?\\/ ?(${m.numberOrPercentage})\\)$`)]},{id:"color",syntaxes:[new RegExp(`^color\\(([a-zA-Z0-9_-]+?) (${m.number}) (${m.number}) (${m.number})\\)$`),new RegExp(`^color\\(([a-zA-Z0-9_-]+?) (${m.number}) (${m.number}) (${m.number}) ?\\/ ?(${m.numberOrPercentage})\\)$`)]},{id:"name",syntaxes:[/^[A-Za-z]+$/]}],$=Object.freeze({__proto__:null,RegExps:m,Formats:w});class y{r;g;b;a;constructor(e){const t=(e,t=1)=>e||(0===e?0:t);if(e instanceof y)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a;else if(!Array.isArray(e)||3!=e.length&&4!=e.length){if("string"!=typeof e)throw`Couleur objects can only be created from a string, an array of parsed values, or another Couleur object ; this is not one: ${JSON.stringify(e)}`;{const a=y.matchSyntax(e.trim());switch(a.id){case"hex":this.setHex([a.data[1],a.data[2],a.data[3],t(a.data[4],"ff")]);break;case"rgb":this.setRgb([a.data[1],a.data[2],a.data[3],t(a.data[4])]);break;case"hsl":this.setHsl([a.data[1],a.data[2],a.data[3],t(a.data[4])]);break;case"hwb":this.setHwb([a.data[1],a.data[2],a.data[3],t(a.data[4])]);break;case"lab":this.setLab([a.data[1],a.data[2],a.data[3],t(a.data[4])]);break;case"lch":this.setLch([a.data[1],a.data[2],a.data[3],t(a.data[4])]);break;case"color":this.setColor(a.data[1],[a.data[2],a.data[3],a.data[4],t(a.data[5])]);break;default:throw`${JSON.stringify(e)} is not a valid color format`}}}else[this.r,this.g,this.b]=y.toGamut("srgb",e.slice(0,3),"srgb",{method:"naive"}),this.a=Math.max(0,Math.min(t(e[3]),1))}static makeInstance(e){return e instanceof y?e:new y(e)}static matchSyntax(e){const t=e.slice(0,3);let a;if("#"===t.slice(0,1))a=y.formats[0];else switch(t){case"rgb":a=y.formats[1];break;case"hsl":a=y.formats[2];break;case"hwb":a=y.formats[3];break;case"lab":a=y.formats[4];break;case"lch":a=y.formats[5];break;case"col":a=y.formats[6];break;default:a=y.formats[7]}for(const t of a.syntaxes){const r=e.match(t);if(null!=r&&r[0]===e){if("name"===a.id){if("transparent"===e)return{id:"rgb",data:[null,"0","0","0","0"]};const t=y.couleursNommees,a=e.toLowerCase();if(a in t)return y.matchSyntax("#"+t[a])}return{id:a.id,data:r}}}throw`${JSON.stringify(e)} is not a valid color format`}static parse(t,a=null,r={clamp:!0}){const n=String(t),s=parseFloat(n);if("a"===a){if(new RegExp("^"+m.percentage+"$").test(n))return r.clamp?Math.max(0,Math.min(s/100,1)):s/100;if(new RegExp("^"+m.number+"$").test(n))return r.clamp?Math.max(0,Math.min(s,1)):s;throw`Invalid ${JSON.stringify(a)} value: ${JSON.stringify(t)}`}if(["r","g","b"].includes(a)){if(new RegExp("^"+m.percentage+"$").test(n))return r.clamp?Math.max(0,Math.min(s/100,1)):s/100;if(new RegExp("^"+m.number+"$").test(n))return r.clamp?Math.max(0,Math.min(s/255,1)):s/255;throw`Invalid ${JSON.stringify(a)} value: ${JSON.stringify(t)}`}if(["h","cieh"].includes(a)){let r=s;if(new RegExp("^"+m.number+"$").test(n))return e(r);if(new RegExp("^"+m.angle+"$").test(n)){if("deg"===n.slice(-3));else if("grad"===n.slice(-4))r=360*r/400;else if("rad"===n.slice(-3))r=180*r/Math.PI;else{if("turn"!==n.slice(-4))throw`Invalid angle value: ${JSON.stringify(t)}`;r*=360}return e(r)}throw`Invalid ${JSON.stringify(a)} value: ${JSON.stringify(t)}`}if(["s","l","w","bk","ciel"].includes(a)){if(new RegExp("^"+m.percentage+"$").test(n))return r.clamp?Math.max(0,Math.min(s/100,1)):s/100;throw`Invalid ${JSON.stringify(a)} value: ${JSON.stringify(t)}`}if(["ciea","cieb"].includes(a)){if(new RegExp("^"+m.number+"$").test(n))return s;throw`Invalid ${JSON.stringify(a)} value: ${JSON.stringify(t)}`}if("ciec"===a){if(new RegExp("^"+m.number+"$").test(n))return r.clamp?Math.max(0,s):s;throw`Invalid ${JSON.stringify(a)} value: ${JSON.stringify(t)}`}if(new RegExp("^"+m.percentage+"$").test(n))return s/100;if(new RegExp("^"+m.number+"$").test(n))return s;throw`Invalid arbitrary value: ${JSON.stringify(t)}`}static unparse(e,t,a={precision:0}){const r=a.precision;switch(t){case"r":case"g":case"b":return null===r?""+255*e:""+Math.round(10**r*255*e)/10**r;case"s":case"l":case"w":case"bk":case"ciel":return null===r?100*e+"%":Math.round(10**r*100*e)/10**r+"%";case"a":return null===r?`${e}`:""+Math.round(10**Math.max(r,2)*e)/10**Math.max(r,2);default:return null===r?`${e}`:""+Math.round(10**r*e)/10**r}}set(e,t,a){const r=y.getSpace(a),n=t.map(((t,a)=>y.parse(e[a],t)));[this.r,this.g,this.b]=y.convert(r,"srgb",n);this.a=y.parse(((e,t=1)=>e||(0===e?0:t))(e[3]),"a")}expr(e,t={precision:0,clamp:!0}){const a="string"==typeof e?e.replace("color-",""):e,r=y.getSpace(a),n=t.precision;let s=this.valuesTo(r);t.clamp&&(s=y.toGamut(r,s,r));const i=Number(y.unparse(this.a,"a",{precision:n}));if(s=[...s,i],"color"===e.slice(0,5)){let e=`color(${r.id}`;for(const[t,a]of Object.entries(s))if(Number(t)===s.length-1){if(i>=1)break;e+=` / ${i}`}else e+=` ${null===n?a:Math.round(10**n*a)/10**n}`;return e+=")",e}const o=y.propertiesOf(e),[c,l,h]=o.map(((e,t)=>y.unparse(s[t],e,{precision:n})));switch(e){case"rgb":case"rgba":case"hsl":case"hsla":return e.length>3&&"a"===e.slice(-1)||i<1?`${e}(${c}, ${l}, ${h}, ${i})`:`${e}(${c}, ${l}, ${h})`;default:return i<1?`${e}(${c} ${l} ${h} / ${i})`:`${e}(${c} ${l} ${h})`}}static makeExpr(e,t,a,r){const n="string"==typeof e?e.replace("color-",""):e,s=[...y.convert(a,n,t.slice(0,3)),t[3]];return new y(s).expr(e,r)}get values(){return[this.r,this.g,this.b]}get name(){if(1===this.a){const e=y.couleursNommees,[t,a,r]=[255*this.r,255*this.g,255*this.b],n=255*.02;for(const[s,i]of Object.entries(e)){const[e,o,c]=[parseInt(`${i[0]}${i[1]}`,16),parseInt(`${i[2]}${i[3]}`,16),parseInt(`${i[4]}${i[5]}`,16)];if(Math.abs(e-t)+Math.abs(o-a)+Math.abs(c-r)<n)return s}return null}return 0===this.a?"transparent":null}get exactName(){if(1===this.a){const e=y.couleursNommees,t=this.hex.slice(1);for(const[a,r]of Object.entries(e))if(r===t)return a;return null}return 0===this.a?"transparent":null}setHex(e){let t,a,r,n;t=e[0],t=1===t.length?t.repeat(2):t,t=parseInt(t,16),a=e[1],a=1===a.length?a.repeat(2):a,a=parseInt(a,16),r=e[2],r=1===r.length?r.repeat(2):r,r=parseInt(r,16),n=e[3]||"ff",n=1===n.length?n.repeat(2):n,n=parseInt(n,16)/255,this.set([t,a,r,n],["r","g","b"],"srgb")}get hex(){const e=[...y.toGamut("srgb",this.values),this.a].map((e=>{return(t=Math.round(255*e).toString(16)).length<2?`0${t}`:t;var t}));return this.a<1?`#${e[0]}${e[1]}${e[2]}${e[3]}`:`#${e[0]}${e[1]}${e[2]}`}setRgb(e){this.set(e,["r","g","b"],"srgb")}get rgb(){return this.expr("rgb",{precision:2})}get rgba(){return this.rgb}setHsl(e){this.set(e,["h","s","l"],"hsl")}get hsl(){return this.expr("hsl",{precision:2})}get hsla(){return this.hsl}setHwb(e){this.set(e,["h","w","bk"],"hwb")}get hwb(){return this.expr("hwb",{precision:2})}setLab(e){this.set(e,["ciel","ciea","cieb"],"lab")}get lab(){return this.expr("lab",{precision:2})}setLch(e){this.set(e,["ciel","ciec","cieh"],"lch")}get lch(){return this.expr("lch",{precision:2})}setColor(e,t){let a=t.slice(0,3).map((e=>y.parse(e)));const r=y.parse(t[3]);switch(e){case"srgb":case"display-p3":case"a98-rgb":case"prophoto-rgb":case"rec2020":case"xyz":a=y.convert(e,"srgb",a);break;default:if(!e.startsWith("--"))throw`The ${JSON.stringify(e)} color space is not supported`;{const t=e.substring(2);a=y.convert(t,"srgb",a)}}const n=[...a,r];return this.set(n,[null,null,null],"srgb")}set h(e){const[t,a,r]=this.valuesTo("hsl"),n=[...y.propertiesOf("hsl"),"a"];this.setHsl([e,a,r,this.a].map(((e,t)=>y.unparse(e,n[t]))))}set hue(e){this.h=e}set s(e){const[t,a,r]=this.valuesTo("hsl"),n=[...y.propertiesOf("hsl"),"a"];this.setHsl([t,e,r,this.a].map(((e,t)=>y.unparse(e,n[t]))))}set saturation(e){this.s=e}set l(e){const[t,a,r]=this.valuesTo("hsl"),n=[...y.propertiesOf("hsl"),"a"];this.setHsl([t,a,e,this.a].map(((e,t)=>y.unparse(e,n[t]))))}set lightness(e){this.l=e}set w(e){const[t,a,r]=this.valuesTo("hwb"),n=[...y.propertiesOf("hwb"),"a"];this.setHwb([t,e,r,this.a].map(((e,t)=>y.unparse(e,n[t]))))}set whiteness(e){this.w=e}set bk(e){const[t,a,r]=this.valuesTo("hwb"),n=[...y.propertiesOf("hwb"),"a"];this.setHwb([t,a,e,this.a].map(((e,t)=>y.unparse(e,n[t]))))}set blackness(e){this.bk=e}set ciel(e){const[t,a,r]=this.valuesTo("lab"),n=[...y.propertiesOf("lch"),"a"];this.setLab([e,a,r,this.a].map(((e,t)=>y.unparse(e,n[t]))))}set CIElightness(e){this.ciel=e}set ciea(e){const[t,a,r]=this.valuesTo("lab"),n=[...y.propertiesOf("lab"),"a"];this.setLab([t,e,r,this.a].map(((e,t)=>y.unparse(e,n[t]))))}set cieb(e){const[t,a,r]=this.valuesTo("lab"),n=[...y.propertiesOf("lab"),"a"];this.setLab([t,a,e,this.a].map(((e,t)=>y.unparse(e,n[t]))))}set ciec(e){const[t,a,r]=this.valuesTo("lch"),n=[...y.propertiesOf("lch"),"a"];this.setLch([t,e,r,this.a].map(((e,t)=>y.unparse(e,n[t]))))}set CIEchroma(e){this.ciec=e}set cieh(e){const[t,a,r]=this.valuesTo("lch"),n=[...y.propertiesOf("lch"),"a"];this.setLch([t,a,e,this.a].map(((e,t)=>y.unparse(e,n[t]))))}set CIEhue(e){this.cieh=e}get red(){return this.r}get green(){return this.g}get blue(){return this.b}get alpha(){return this.a}get opacity(){return this.a}get h(){return this.valuesTo("hsl")[0]}get hue(){return this.h}get s(){return this.valuesTo("hsl")[1]}get saturation(){return this.s}get l(){return this.valuesTo("hsl")[2]}get lightness(){return this.l}get w(){return this.valuesTo("hwb")[1]}get whiteness(){return this.w}get bk(){return this.valuesTo("hwb")[2]}get blackness(){return this.bk}get ciel(){return this.valuesTo("lab")[0]}get CIElightness(){return this.ciel}get ciea(){return this.valuesTo("lab")[1]}get cieb(){return this.valuesTo("lab")[2]}get ciec(){return this.valuesTo("lch")[1]}get CIEchroma(){return this.ciec}get cieh(){return this.valuesTo("lch")[2]}get CIEhue(){return this.cieh}get luminance(){if(this.a<1)throw"The luminance of a transparent color would be meaningless";return u(this.values)}static convert(e,t,a){if(typeof e==typeof t&&e===t||"string"==typeof e&&"string"!=typeof t&&e===t.id||"string"!=typeof e&&"string"==typeof t&&e.id===t)return a;const r=y.getSpace(e),n=y.getSpace(t);let s;const i=new h(y.colorSpaces);try{s=i.shortestPath(r.id,n.id).map((e=>e.id))}catch(e){switch(e){case`Node ${r.id} does not exist`:throw`${JSON.stringify(r.id)} is not a supported color space`;case`Node ${n.id} does not exist`:throw`${JSON.stringify(n.id)} is not a supported color space`;case`No path found from ${r.id} to ${n.id}`:throw`Conversion from ${JSON.stringify(r.id)} space to ${JSON.stringify(n.id)} space is impossible`;default:throw e}}let o=a;for(;s.length>1;){const e=`${s.shift()}_to_${s[0]}`.replace(/-/g,"");c[e]||console.log(e),o=c[e](o)}return o}valuesTo(e,t={clamp:!1}){const a=y.getSpace(e);let r=y.convert("srgb",a,this.values);return t.clamp&&(r=y.toGamut(a,r)),r}static inGamut(e,t,a="srgb",r={tolerance:1e-4}){const n=y.getSpace(e),s=y.convert(a,n,t),i=r.tolerance;return s.every(((e,t)=>e>=n.gamut[t][0]-i&&e<=n.gamut[t][1]+i))}inGamut(e,t){return y.inGamut(e,this.values,"srgb",t)}static toGamut(e,r,n="srgb",c={method:"oklab"}){const l=y.getSpace(e),h=y.getSpace(n);if(y.inGamut(l,r,h,{tolerance:0}))return r;let u,f;const b=c.method;if("naive"===b){f=l;u=y.convert(h,f,r).map(((e,t)=>Math.max(l.gamut[t][0],Math.min(e,l.gamut[t][1]))))}else if("oklab"===b){f=y.getSpace("srgb");u=function(e){if(e.every((e=>e>0&&e<1)))return e;const[r,n,c]=s(t(e)),[l,h,u]=o([r,n,c]),f=Math.max(1e-5,h),b=n/f,p=c/f,d=r-.5,m=.5+Math.abs(d)+.05*f,w=.5*(1+Math.sign(d)*(m-Math.sqrt(m*m-2*Math.abs(d)))),$=g(b,p,r,f,w),y=$*f;return a(i([w*(1-$)+$*r,y*b,y*p]))}(y.convert(h,f,r))}else if("chroma"===b){f=y.getSpace("lch");let e=y.convert(h,f,r);const t=.01;let a=0,n=e[1];for(e[1]=e[1]/2;n-a>t;){const r=y.toGamut(l,e,f,{method:"naive"});y.distance(r,e,{method:"CIEDE2000"})<2+t?a=e[1]:n=e[1],e[1]=(a+n)/2}u=e}return"naive"!==b&&(u=y.toGamut(l,u,f,{method:"naive"})),y.convert(f,h,u)}toGamut(e){return y.toGamut(e,this.values,"srgb")}change(e,t,a={action:null}){const r="replace"===a.action,n="scale"===a.action,s=n?y.parse(t):y.parse(t,e,{clamp:!1}),i=new y(this),o=this[e],c=r?s:n?o*s:o+s;return i[e]=c,i}replace(e,t){return this.change(e,t,{action:"replace"})}scale(e,t){return this.change(e,t,{action:"scale"})}complement(){return this.change("h",180)}negative(){return new y(`rgb(${255*(1-this.r)}, ${255*(1-this.g)}, ${255*(1-this.b)}, ${this.a})`)}invert(){return this.negative()}greyscale(){const e=255*this.replace("a",1).luminance;return new y(`rgb(${e}, ${e}, ${e}, ${this.a})`)}grayscale(){return this.greyscale()}sepia(){const e=Math.min(.393*this.r+.769*this.g+.189*this.b,1),t=Math.min(.349*this.r+.686*this.g+.168*this.b,1),a=Math.min(.272*this.r+.534*this.g+.131*this.b,1);return new y(`rgb(${255*e}, ${255*t}, ${255*a}, ${this.a})`)}static blend(e,t,a){const r=y.makeInstance(e),n=y.makeInstance(t);if(null!=a&&(n.a=y.parse(a,"a")),0===n.a)return r;if(1===n.a)return n;const s=n.a+r.a*(1-n.a),i=(n.r*n.a+r.r*r.a*(1-n.a))/s,o=(n.g*n.a+r.g*r.a*(1-n.a))/s,c=(n.b*n.a+r.b*r.a*(1-n.a))/s;return new y([i,o,c,s])}static blendAll(...e){if(e.length<2)throw"You need at least 2 colors to blend";const t=e.shift(),a=e.shift(),r=y.blend(t,a);return 0===e.length?r:y.blendAll(r,...e)}blend(e,t){return y.blend(this,e,t)}blendAll(...e){return y.blendAll(this,...e)}static unblend(e,t,a){const r=y.makeInstance(e),n=y.makeInstance(t);if(null!=a&&(n.a=y.parse(a,"a")),1===n.a)throw`Overlay color ${JSON.stringify(n.rgb)} isn't transparent, so the background it was blended onto could have been any color`;if(0===n.a)return r;if(r.a<n.a)return null;if(r.a===n.a)return y.same(r,n)?new y([0,0,0,0]):null;{const e=(r.a-n.a)/(1-n.a),t=(r.r*r.a-n.r*n.a)/(e*(1-n.a)),a=(r.g*r.a-n.g*n.a)/(e*(1-n.a)),s=(r.b*r.a-n.b*n.a)/(e*(1-n.a));if(!y.inGamut("srgb",[t,a,s],"srgb",{tolerance:1/255}))return null;const i=y.toGamut("srgb",[t,a,s],"srgb",{method:"naive"});return new y([...i,e])}}static unblendAll(...e){if(e.length<2)throw"You need at least 2 colors to unblend";const t=e.shift(),a=e.shift(),r=y.unblend(t,a);return 0===e.length?r:y.unblendAll(r,...e)}unblend(e,t){return y.unblend(this,e,t)}unblendAll(...e){return y.unblendAll(this,...e)}static whatToBlend(e,t,a=[],r={ignoreTransparent:!1}){const n=y.makeInstance(e),s=y.makeInstance(t);let i=[];const o=e=>{const t=(s.r*s.a-n.r*n.a*(1-e))/e,a=(s.g*s.a-n.g*n.a*(1-e))/e,r=(s.b*s.a-n.b*n.a*(1-e))/e;if(!y.inGamut("srgb",[t,a,r],"srgb",{tolerance:1/255}))throw"This color doesn't exist";const i=y.toGamut("srgb",[t,a,r],"srgb",{method:"naive"});return new y([...i,e])},c=[a].flat(),l=c.length>0?c.filter((e=>e>0&&e<1)):Array.from({length:9},((e,t)=>(t+1)/10));if(s.a<n.a)return null;if(s.a>n.a)if(1===s.a)i.push(s);else if(0===n.a)i.push(s);else{const e=(s.a-n.a)/(1-n.a);try{i.push(o(e))}catch(e){return null}}else if(s.a===n.a)if(0===s.a)i.push(new y("transparent"));else if(s.a<1){if(!y.same(s,n))return null;i.push(new y("transparent"))}else{y.same(s,n)&&i.push(new y("transparent"));for(const e of l)try{i.push(o(e))}catch(e){continue}i.push(s)}let h=c.length>0?i.filter((e=>c.includes(e.a))):i;return r.ignoreTransparent&&(h=h.filter((e=>e>0))),0===h.length?null:1===h.length?h[0]:h}whatToBlend(e,t){return y.whatToBlend(this,e,t)}static contrast(e,t,a={method:"WCAG2"}){const r=y.makeInstance(t);if(r.a<1)throw"The contrast with a transparent background color would be meaningless";let n=y.makeInstance(e);switch(n.a<1&&(n=y.blend(r,n)),a.method.toLowerCase()){case"wcag3":case"sapc":case"apca":return f(n.values,r.values);case"wcag2":default:return function(e,t){const a=u(e),r=u(t);return(Math.max(a,r)+.05)/(Math.min(a,r)+.05)}(n.values,r.values)}}contrast(e,t){return y.contrast(this,e,t)}bestColorScheme(e="background"){if("text"===e){return Math.abs(y.contrast(this,"black",{method:"apca"}))>=Math.abs(y.contrast(this,"white",{method:"apca"}))?"dark":"light"}return Math.abs(y.contrast("black",this,{method:"apca"}))>=Math.abs(y.contrast("white",this,{method:"apca"}))?"light":"dark"}improveContrast(e,t,a={lower:!1,colorScheme:null,method:"WCAG2"}){const r=y.makeInstance(e),n=r.valuesTo("lab"),s=this.valuesTo("lab"),i=a.method;let o,c=y.contrast(this,r,{method:i});if(o=c>t?-1:c<t?1:0,o<0&&!1===a.lower||0===o)return this;const l=a.colorScheme||(n[0]<s[0]?"dark":"light"),h=y.contrast(r,"black",{method:i}),u=y.contrast(r,"white",{method:i}),f=o>0?Math.abs(h)>=t:Math.abs(h)<=t,g=o>0?Math.abs(u)>=t:Math.abs(u)<=t;let b;if(f&&!g)b=-1;else if(g&&!f)b=1;else{if(!g&&!f)return new y("light"===l?"black":"white");b="light"===l&&o>0?-1:"light"===l&&o<0||"dark"===l&&o>0?1:-1}let p=b>0?s[0]:0,d=b>0?1:s[0];for(;d-p>1e-4;){const e=(p+d)/2,a=s;a[0]=e;const n=y.contrast(y.convert("lab","srgb",a),r,{method:i});(o>0?Math.abs(n)<t:Math.abs(n)>t)?b>0?p=e:d=e:b>0?d=e:p=e,s[0]=e}let m=new y(y.convert("lab","srgb",s));return Math.abs(y.contrast(m,r,{method:i}))<t&&(s[0]=b>0?d:p),new y(y.convert("lab","srgb",s))}static distance(e,t,a={method:"CIEDE2000"}){const r=y.makeInstance(e),n=y.makeInstance(t),[s,i]=[r,n].map((e=>e.valuesTo("lab")));switch(a.method){case"CIEDE2000":return function([e,t,a],[r,n,s]){const i=100*e,o=100*r,c=(Math.sqrt(t**2+a**2)+Math.sqrt(n**2+s**2))/2,l=.5*(1-Math.sqrt(c**7/(c**7+25**7))),h=(1+l)*t,u=(1+l)*n,f=Math.sqrt(h**2+a**2),g=Math.sqrt(u**2+s**2);let b=0===f?0:180*Math.atan2(a,h)/Math.PI,p=0===g?0:180*Math.atan2(s,u)/Math.PI;for(;b<0;)b+=360;for(;b>360;)b-=360;for(;p<0;)p+=360;for(;p>360;)p-=360;const d=o-i,m=g-f,w=f*g==0?0:Math.abs(p-b)<=180?p-b:p-b>180?p-b-360:p-b+360,$=2*Math.sqrt(f*g)*Math.sin(Math.PI/180*(w/2)),y=(i+o)/2,k=(f+g)/2,M=f*g==0?b+p:Math.abs(p-b)<=180?(b+p)/2:b+p>=360?(b+p-360)/2:(b+p+360)/2,v=1-.17*Math.cos(Math.PI/180*(M-30))+.24*Math.cos(Math.PI/180*(2*M))+.32*Math.cos(Math.PI/180*(3*M+6))-.2*Math.cos(Math.PI/180*(4*M-63)),_=30*Math.exp(-1*((M-275)/25)**2),x=2*Math.sqrt(k**7/(k**7+25**7)),S=1+.015*(y-50)**2/Math.sqrt(20+(y-50)**2),O=1+.045*k,I=1+.015*k*v,E=-1*Math.sin(Math.PI/180*(2*_))*x;return Math.sqrt((d/S)**2+(m/O)**2+($/I)**2+E*(m/O)*($/I))}(s,i);case"euclidean":default:return s.reduce(((e,t,a)=>e+(t-i[a])**2))}}distance(e,t){return y.distance(this,e,t)}static same(e,t,a=1){return!(y.distance(e,t)>a)}same(e){return y.same(this,e)}static gradient(t,a,r=5,n="lch"){const s=y.makeInstance(t),i=y.makeInstance(a),o=Math.max(1,r),c=[...y.propertiesOf(n),"a"],l=y.getSpace(n),h=[...s.valuesTo(l),s.a],u=[...i.valuesTo(l),i.a],f=c.map(((e,t)=>{let a;switch(e){case"h":case"cieh":case"okh":const e=((u[t]-h[t])%360+360)%360,r=((h[t]-u[t])%360+360)%360;a=(e<=r?e:-r)/o;break;default:a=(u[t]-h[t])/o}return a})),g=[h];for(let t=1;t<o;t++){let a=g[t-1],r=c.map(((t,r)=>{let n=a[r]+f[r];return["h","cieh"].includes(t)?e(n):n}));const n=r[3];r=y.toGamut(l,r.slice(0,3),l),r=[...r,n],g.push(r)}return[...g.map((e=>new y(y.convert(l,"srgb",e)))),i]}gradient(e,t,a){return y.gradient(this,e,t,a)}static propertiesOf(e){switch(e){case"rgb":case"rgba":return["r","g","b"];case"hsl":case"hsla":return["h","s","l"];case"hwb":case"hwba":return["h","w","bk"];case"lab":case"laba":return["ciel","ciea","cieb"];case"lch":case"lcha":return["ciel","ciec","cieh"];case"oklab":return["okl","oka","okb"];case"oklch":return["okl","okc","okh"];default:return[]}}static get properties(){return["a","r","g","b","h","s","l","w","bk","ciel","ciea","cieb","ciec","cieh"]}static get colorSpaces(){return b}static getSpace(e){if("string"!=typeof e)return e;const t="rgb"===e||"rgba"===e?"srgb":"hsla"===e?"hsl":e;return y.colorSpaces.find((e=>e.id==t))}static get formats(){return w}static get couleursNommees(){return p}}class k{colors=[];constructor(e,t=(()=>[]),a={clampSpace:"srgb"}){const r=t(e);for(const e of r){const t=[];for(const r of e.lightnesses){let n=y.convert("oklch","srgb",[r,e.chroma,e.hue]);null!=a.clampSpace&&(n=y.toGamut(a.clampSpace,n));const s=new y(`color(srgb ${n.join(" ")})`);t.push(s)}this.colors.push(t)}}}export default y;export{$ as CSSFormats,c as Conversions,k as Palette};
