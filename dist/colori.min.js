var We=Object.defineProperty;var w=Math.pow,st=(s,e,t)=>e in s?We(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var ae=(s,e)=>{for(var t in e)We(s,t,{get:e[t],enumerable:!0})};var A=(s,e,t)=>(st(s,typeof e!="symbol"?e+"":e,t),t),Ue=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var T=(s,e,t)=>(Ue(s,e,"read from private field"),t?t.call(s):e.get(s)),R=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},N=(s,e,t,r)=>(Ue(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t),V=(s,e,t,r)=>({set _(n){N(s,e,n,t)},get _(){return T(s,e,r)}});var ie={};ae(ie,{APCA:()=>oe,WCAG2:()=>Se,luminance:()=>ee});var K={};ae(K,{a98rgb_to_a98rgblinear:()=>gt,a98rgblinear_to_a98rgb:()=>ft,a98rgblinear_to_xyzd65:()=>dt,displayp3_to_displayp3linear:()=>it,displayp3linear_to_displayp3:()=>lt,displayp3linear_to_xyzd65:()=>ct,hsl_to_hwb:()=>zt,hsl_to_srgb:()=>Nt,hwb_to_hsl:()=>Gt,lab_to_lch:()=>Ke,lab_to_xyzd50:()=>Mt,lch_to_lab:()=>Be,okhsl_to_oklab:()=>qt,okhsv_to_oklab:()=>Wt,oklab_to_okhsl:()=>Lt,oklab_to_okhsv:()=>Ft,oklab_to_oklch:()=>vt,oklab_to_oklrab:()=>Ye,oklab_to_xyzd65:()=>ye,oklch_to_oklab:()=>Ot,oklch_to_oklrch:()=>Rt,oklrab_to_oklab:()=>Qe,oklrch_to_oklch:()=>Vt,prophotorgb_to_prophotorgblinear:()=>bt,prophotorgblinear_to_prophotorgb:()=>ht,prophotorgblinear_to_xyzd50:()=>pt,rec2020_to_rec2020linear:()=>wt,rec2020linear_to_rec2020:()=>xt,rec2020linear_to_xyzd65:()=>yt,srgb_to_hsl:()=>At,srgb_to_srgblinear:()=>se,srgblinear_to_srgb:()=>He,srgblinear_to_xyzd65:()=>ot,xyzd50_to_lab:()=>Ct,xyzd50_to_prophotorgblinear:()=>mt,xyzd50_to_xyzd65:()=>_t,xyzd65_to_a98rgblinear:()=>kt,xyzd65_to_displayp3linear:()=>ut,xyzd65_to_oklab:()=>St,xyzd65_to_rec2020linear:()=>$t,xyzd65_to_srgblinear:()=>xe,xyzd65_to_xyzd50:()=>It});function se(s){return s.map(e=>Math.abs(e)<.04045?e/12.92:(Math.sign(e)||1)*Math.pow((Math.abs(e)+.055)/1.055,2.4))}function He(s){return s.map(e=>Math.abs(e)>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(Math.abs(e),1/2.4)-.055):12.92*e)}function ot(s){let[e,t,r]=s;return[.41239079926595934*e+.357584339383878*t+.1804807884018343*r,.21263900587151027*e+.715168678767756*t+.07219231536073371*r,.01933081871559182*e+.11919477979462598*t+.9505321522496607*r]}function xe(s){let[e,t,r]=s;return[3.2409699419045226*e+-1.537383177570094*t+-.4986107602930034*r,-.9692436362808796*e+1.8759675015077202*t+.04155505740717559*r,.05563007969699366*e+-.20397695888897652*t+1.0569715142428786*r]}function it(s){return se(s)}function lt(s){return He(s)}function ct(s){let[e,t,r]=s;return[.4865709486482162*e+.26566769316909306*t+.1982172852343625*r,.2289745640697488*e+.6917385218365064*t+.079286914093745*r,0*e+.04511338185890264*t+1.043944368900976*r]}function ut(s){let[e,t,r]=s;return[2.493496911941425*e+-.9313836179191239*t+-.40271078445071684*r,-.8294889695615747*e+1.7626640603183463*t+.023624685841943577*r,.03584583024378447*e+-.07617238926804182*t+.9568845240076872*r]}function bt(s){return s.map(e=>Math.abs(e)<=16/512?e/16:(Math.sign(e)||1)*Math.pow(Math.abs(e),1.8))}function ht(s){return s.map(e=>Math.abs(e)>=1/512?(Math.sign(e)||1)*Math.pow(Math.abs(e),1/1.8):16*e)}function pt(s){let[e,t,r]=s;return[.7977604896723027*e+.13518583717574031*t+.0313493495815248*r,.2880711282292934*e+.7118432178101014*t+8565396060525902e-20*r,0*e+0*t+.8251046025104601*r]}function mt(s){let[e,t,r]=s;return[1.3457989731028281*e+-.25558010007997534*t+-.05110628506753401*r,-.5446224939028347*e+1.5082327413132781*t+.02053603239147973*r,0*e+0*t+1.2119675456389454*r]}function gt(s){return s.map(e=>(Math.sign(e)||1)*Math.pow(Math.abs(e),563/256))}function ft(s){return s.map(e=>(Math.sign(e)||1)*Math.pow(Math.abs(e),256/563))}function dt(s){let[e,t,r]=s;return[.5766690429101305*e+.1855582379065463*t+.1882286462349947*r,.29734497525053605*e+.6273635662554661*t+.07529145849399788*r,.02703136138641234*e+.07068885253582723*t+.9913375368376388*r]}function kt(s){let[e,t,r]=s;return[2.0415879038107465*e+-.5650069742788596*t+-.34473135077832956*r,-.9692436362808795*e+1.8759675015077202*t+.04155505740717557*r,.013444280632031142*e+-.11836239223101838*t+1.0151749943912054*r]}function wt(s){let e=1.09929682680944;return s.map(t=>Math.abs(t)<.018053968510807*4.5?t/4.5:(Math.sign(t)||1)*Math.pow(Math.abs(t)+e-1,1/.45))}function xt(s){let e=1.09929682680944;return s.map(t=>Math.abs(t)>.018053968510807?(Math.sign(t)||1)*(e*Math.pow(Math.abs(t),.45)-(e-1)):4.5*t)}function yt(s){let[e,t,r]=s;return[.6369580483012914*e+.14461690358620832*t+.1688809751641721*r,.2627002120112671*e+.6779980715188708*t+.05930171646986196*r,0*e+.028072693049087428*t+1.060985057710791*r]}function $t(s){let[e,t,r]=s;return[1.7166511879712674*e+-.35567078377639233*t+-.25336628137365974*r,-.6666843518324892*e+1.6164812366349395*t+.01576854581391113*r,.017639857445310783*e+-.042770613257808524*t+.9421031212354738*r]}function Ct(s){let e=.008856451679035631,t=24389/27,r=[.96422,1,.82521],[n,a,o]=s.map((p,b)=>p/r[b]),i=p=>p>e?Math.cbrt(p):(t*p+16)/116,[c,u,m]=[n,a,o].map(p=>i(p));return[(116*u-16)/100,500*(c-u),200*(u-m)]}function Mt(s){let e=.008856451679035631,t=24389/27,r=[.96422,1,.82521],[n,a,o]=s;n=100*n;let i=(n+16)/116,c=a/500+i,u=i-o/200,m=w(c,3)>e?w(c,3):(116*c-16)/t,p=n>t*e?w((n+16)/116,3):n/t,b=w(u,3)>e?w(u,3):(116*u-16)/t;return[m,p,b].map((g,f)=>g*r[f])}function Ke(s){let[e,t,r]=s,n=Math.sqrt(w(t,2)+w(r,2)),a=Math.atan2(r,t)*180/Math.PI;for(;a<0;)a+=360;for(;a>360;)a-=360;return[e,n,a]}function Be(s){let[e,t,r]=s,n=t*Math.cos(r*Math.PI/180),a=t*Math.sin(r*Math.PI/180);return[e,n,a]}function St(s){let[e,t,r]=s,n=[.8190224432164319*e+.3619062562801221*t+-.12887378261216414*r,.0329836671980271*e+.9292868468965546*t+.03614466816999844*r,.048177199566046255*e+.26423952494422764*t+.6335478258136937*r],[a,o,i]=n.map(c=>Math.cbrt(c));return[.2104542553*a+.793617785*o+-.0040720468*i,1.9779984951*a+-2.428592205*o+.4505937099*i,.0259040371*a+.7827717662*o+-.808675766*i]}function ye(s){let[e,t,r]=s,n=[.9999999984505198*e+.39633779217376786*t+.2158037580607588*r,1.0000000088817609*e+-.10556134232365635*t+-.06385417477170591*r,1.0000000546724108*e+-.08948418209496575*t+-1.2914855378640917*r],[a,o,i]=n.map(c=>w(c,3));return[1.2268798733741557*a+-.5578149965554813*o+.28139105017721583*i,-.04057576262431372*a+1.1122868293970594*o+-.07171106666151701*i,-.07637294974672142*a+-.4214933239627914*o+1.5869240244272418*i]}function vt(s){return Ke(s)}function Ot(s){return Be(s)}function It(s){let[e,t,r]=s;return[1.0479298208405488*e+.022946793341019088*t+-.05019222954313557*r,.029627815688159344*e+.990434484573249*t+-.01707382502938514*r,-.009243058152591178*e+.015055144896577895*t+.7518742899580008*r]}function _t(s){let[e,t,r]=s;return[.9554734527042182*e+-.023098536874261423*t+.0632593086610217*r,-.028369706963208136*e+1.0099954580058226*t+.021041398966943008*r,.012314001688319899*e+-.020507696433477912*t+1.3303659366080753*r]}function $e(s,e,t){return xe(ye([s,e,t]))}function Q(s){let r=1.170873786407767;return .5*(r*s-.206+Math.sqrt((r*s-.206)*(r*s-.206)+4*.03*r*s))}function H(s){let r=1.170873786407767;return(s*s+.206*s)/(r*(s+.03))}function Pt(s,e){let t,r,n,a,o,i,c,u;-1.88170328*s-.80936493*e>1?(t=1.19086277,r=1.76576728,n=.59662641,a=.75515197,o=.56771245,i=4.0767416621,c=-3.3077115913,u=.2309699292):1.81444104*s-1.19445276*e>1?(t=.73956515,r=-.45954404,n=.08285427,a=.1254107,o=.14503204,i=-1.2684380046,c=2.6097574011,u=-.3413193965):(t=1.35733652,r=-.00915799,n=-1.1513021,a=-.50559606,o=.00692167,i=-.0041960863,c=-.7034186147,u=1.707614701);let m=t+r*s+n*e+a*s*s+o*s*e,p=.3963377774*s+.2158037573*e,b=-.1055613458*s-.0638541728*e,g=-.0894841775*s-1.291485548*e;{let f=1+m*p,x=1+m*b,k=1+m*g,d=f*f*f,y=x*x*x,M=k*k*k,$=3*p*f*f,C=3*b*x*x,v=3*g*k*k,O=6*p*p*f,S=6*b*b*x,_=6*g*g*k,P=i*d+c*y+u*M,E=i*$+c*C+u*v,G=i*O+c*S+u*_;m=m-P*E/(E*E-.5*P*G)}return m}function Ce(s,e){let t=Pt(s,e),r=$e(1,t*s,t*e),n=Math.cbrt(1/Math.max(Math.max(r[0],r[1]),r[2])),a=n*t;return[n,a]}function Tt(s,e,t,r,n,a){a||(a=Ce(s,e));let o;if((t-n)*a[1]-(a[0]-n)*r<=0)o=a[1]*n/(r*a[0]+a[1]*(n-t));else{o=a[1]*(n-1)/(r*(a[0]-1)+a[1]*(n-t));{let i=t-n,c=r,u=.3963377774*s+.2158037573*e,m=-.1055613458*s-.0638541728*e,p=-.0894841775*s-1.291485548*e,b=i+c*u,g=i+c*m,f=i+c*p;{let x=n*(1-o)+o*t,k=o*r,d=x+k*u,y=x+k*m,M=x+k*p,$=d*d*d,C=y*y*y,v=M*M*M,O=3*b*d*d,S=3*g*y*y,_=3*f*M*M,P=6*b*b*d,E=6*g*g*y,G=6*f*f*M,Y=4.0767416621*$-3.3077115913*C+.2309699292*v-1,U=4.0767416621*O-3.3077115913*S+.2309699292*_,me=4.0767416621*P-3.3077115913*E+.2309699292*G,Re=U/(U*U-.5*Y*me),ge=-Y*Re,Ve=-1.2684380046*$+2.6097574011*C-.3413193965*v-1,fe=-1.2684380046*O+2.6097574011*S-.3413193965*_,nt=-1.2684380046*P+2.6097574011*E-.3413193965*G,Le=fe/(fe*fe-.5*Ve*nt),de=-Ve*Le,qe=-.0041960863*$-.7034186147*C+1.707614701*v-1,ke=-.0041960863*O-.7034186147*S+1.707614701*_,at=-.0041960863*P-.7034186147*E+1.707614701*G,Fe=ke/(ke*ke-.5*qe*at),we=-qe*Fe;ge=Re>=0?ge:1e6,de=Le>=0?de:1e6,we=Fe>=0?we:1e6,o+=Math.min(ge,Math.min(de,we))}}}return o}function Me(s,e,t){t||(t=Ce(s,e));let r=t[0],n=t[1];return[n/r,n/(1-r)]}function Je(s,e,t){let r=Ce(e,t),n=Tt(e,t,s,1,s,r),a=Me(e,t,r),o=.11516993+1/(7.4477897+4.1590124*t+e*(-2.19557347+1.75198401*t+e*(-2.13704948-10.02301043*t+e*(-4.24894561+5.38770819*t+4.69891013*e)))),i=.11239642+1/(1.6132032-.68124379*t+e*(.40370612+.90148123*t+e*(-.27087943+.6122399*t+e*(.00299215-.45399568*t-.14661872*e)))),c=n/Math.min(s*a[0],(1-s)*a[1]),u;{let p=s*o,b=(1-s)*i;u=.9*c*Math.sqrt(Math.sqrt(1/(1/(p*p*p*p)+1/(b*b*b*b))))}let m;{let p=s*.4,b=(1-s)*.8;m=Math.sqrt(1/(1/(p*p)+1/(b*b)))}return[m,u,n]}function De([s,e,t]){if(t==1)return[1,0,0];if(t==0)return[0,0,0];let r=Math.cos(2*Math.PI*s),n=Math.sin(2*Math.PI*s),a=H(t),o=Je(a,r,n),i=o[0],c=o[1],u=o[2],m,p,b,g,f;return e<.8?(p=1.25*e,b=0,g=.8*i,f=1-g/c):(p=5*(e-.8),b=c,g=.2*c*c*1.25*1.25/i,f=1-g/(u-c)),m=b+p*g/(1-f*p),[a,m*r,m*n]}function je(s){let e=Math.sqrt(s[1]*s[1]+s[2]*s[2]),t=s[1]/e,r=s[2]/e,n=s[0],a=.5+.5*Math.atan2(-s[2],-s[1])/Math.PI,o=Je(n,t,r),i=o[0],c=o[1],u=o[2],m;if(e<c){let b=0,g=.8*i,f=1-g/c;m=(e-b)/(g+f*(e-b))*.8}else{let b=c,g=.2*c*c*1.25*1.25/i,f=1-g/(u-c),x=(e-b)/(g+f*(e-b));m=.8+.2*x}let p=Q(n);return[a,m,p]}function Ze([s,e,t]){if(t===0)return[0,0,0];let r=Math.cos(2*Math.PI*s),n=Math.sin(2*Math.PI*s),a=Me(r,n),o=a[0],i=.5,c=a[1],u=1-i/o,m=1-e*i/(i+c-c*u*e),p=e*c*i/(i+c-c*u*e),b=t*m,g=t*p,f=H(m),x=p*f/m,k=H(b);g=g*k/b,b=k;let d=$e(f,r*x,n*x),y=Math.cbrt(1/Math.max(d[0],d[1],d[2],0));return b=b*y,g=g*y,[b,g*r,g*n]}function Xe(s){let e=Math.sqrt(s[1]*s[1]+s[2]*s[2]),t=s[1]/e,r=s[2]/e,n=s[0],a=.5+.5*Math.atan2(-s[2],-s[1])/Math.PI,o=Me(t,r),i=o[0],c=.5,u=o[1],m=1-c/i,p=u/(e+n*u),b=p*n,g=p*e,f=H(b),x=g*f/b,k=$e(f,t*x,r*x),d=Math.cbrt(1/Math.max(k[0],k[1],k[2],0));n=n/d,e=e/d,e=e*Q(n)/n,n=Q(n);let y=n/b,M=(c+u)*g/(u*c+u*m*g);return[a,M,y]}function At(s){let[e,t,r]=s,n=Math.max(e,t,r),a=Math.min(e,t,r),o=n-a,i=(n+a)/2,c;if(o===0)c=0;else switch(n){case e:c=(t-r)/o;break;case t:c=(r-e)/o+2;break;default:c=(e-t)/o+4}for(c=60*c;c<0;)c+=360;for(;c>360;)c-=360;let u;return i===0||i===1?u=0:i<=.5?u=o/(2*i):u=o/(2-2*i),[c,u,i]}function Nt(s){let[e,t,r]=s,n=t*Math.min(r,1-r),a=m=>(m+e/30)%12,o=m=>r-n*Math.max(Math.min(a(m)-3,9-a(m),1),-1),i=o(0),c=o(8),u=o(4);return[i,c,u]}function zt(s){let[e,t,r]=s,n,a=r+t*Math.min(r,1-r);a===0?n=0:n=2-2*r/a;let o=(1-n)*a,i=1-a;return[e,o,i]}function Gt(s){let[e,t,r]=s,n=t,a=r;t+r>1&&(n=t/(t+r),a=r/(t+r));let o,i=1-a;a===1?o=0:o=1-n/i;let c,u=i-i*o/2;return u===0||u===1?c=0:c=(i-u)/Math.min(u,1-u),[e,c,u]}function Ye(s){let[e,t,r]=s;return[Q(e),t,r]}function Qe(s){let[e,t,r]=s;return[H(e),t,r]}function Rt(s){return Ye(s)}function Vt(s){return Qe(s)}function Lt(s){let[e,t,r]=je(s);return[360*e,t,r]}function qt(s){let[e,t,r]=s;return De([e/360,t,r])}function Ft(s){let[e,t,r]=Xe(s);return[360*e,t,r]}function Wt(s){let[e,t,r]=s;return Ze([e/360,t,r])}function Ut(s){let e=[.2126729,.7151522,.072175],t=2.4;return s.reduce((r,n,a)=>r+Math.pow(n,t)*e[a],0)}function oe(s,e){let[t,r]=[s,e].map(y=>Ut(y));if(isNaN(t)||isNaN(r)||Math.min(t,r)<0||Math.max(t,r)>1.1)return 0;let n=.56,a=.57,o=.62,i=.65,c=.022,u=1.414,m=1.14,p=1.14,b=.027,g=.027,f=.1,x=5e-4;if([t,r]=[t,r].map(y=>y>c?y:y+Math.pow(c-y,u)),Math.abs(t-r)<x)return 0;let k=0,d=0;return r>t?(k=(Math.pow(r,n)-Math.pow(t,a))*m,d=k<f?0:k-b):(k=(Math.pow(r,i)-Math.pow(t,o))*p,d=k>-f?0:k+g),d*100}function ee(s){let e=se(s);return .2126729*e[0]+.7151522*e[1]+.072175*e[2]}function Se(s,e){let t=ee(s),r=ee(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}var Ht=[{id:"srgb",aliases:["rgb","rgba"],properties:["r","g","b"],gamut:[[0,1],[0,1],[0,1]],links:["srgb-linear","hsl"],black:[0,0,0],white:[1,1,1]},{id:"srgb-linear",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["srgb","xyz-d65"],black:[0,0,0],white:[1,1,1]},{id:"hsl",aliases:["hsla"],properties:["h","s","l"],gamutSpace:"srgb",links:["srgb","hwb"]},{id:"hwb",aliases:[],properties:["h","w","bk"],gamutSpace:"srgb",links:["hsl"]},{id:"lab",aliases:[],properties:["ciel","ciea","cieb"],gamut:[[0,1/0],[-1/0,1/0],[-1/0,1/0]],links:["xyz-d50","lch"],black:[0,0,0]},{id:"lch",aliases:[],properties:["ciel","ciec","cieh"],gamut:[[0,1/0],[0,1/0],[-1/0,1/0]],links:["lab"],black:[0,0,0]},{id:"xyz-d50",aliases:[],gamut:[[-1/0,1/0],[-1/0,1/0],[-1/0,1/0]],links:["lab","xyz-d65","prophoto-rgb-linear"]},{id:"xyz-d65",aliases:["xyz"],gamut:[[-1/0,1/0],[-1/0,1/0],[-1/0,1/0]],links:["xyz-d50","srgb-linear","display-p3-linear","a98-rgb-linear","rec2020-linear","oklab"]},{id:"display-p3",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["display-p3-linear"],black:[0,0,0],white:[1,1,1]},{id:"display-p3-linear",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["display-p3","xyz-d65"],black:[0,0,0],white:[1,1,1]},{id:"a98-rgb",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["a98-rgb-linear"],black:[0,0,0],white:[1,1,1]},{id:"a98-rgb-linear",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["a98-rgb","xyz-d65"],black:[0,0,0],white:[1,1,1]},{id:"prophoto-rgb",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["prophoto-rgb-linear"],black:[0,0,0],white:[1,1,1]},{id:"prophoto-rgb-linear",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["prophoto-rgb","xyz-d50"],black:[0,0,0],white:[1,1,1]},{id:"rec2020",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["rec2020-linear"],black:[0,0,0],white:[1,1,1]},{id:"rec2020-linear",aliases:[],gamut:[[0,1],[0,1],[0,1]],links:["rec2020","xyz-d65"],black:[0,0,0],white:[1,1,1]},{id:"oklab",aliases:[],properties:["okl","oka","okb"],gamut:[[0,1/0],[-1/0,1/0],[-1/0,1/0]],links:["xyz-d65","oklch","okhsl","okhsv","oklrab"],black:[0,0,0]},{id:"oklch",aliases:[],properties:["okl","okc","okh"],gamut:[[0,1/0],[0,1/0],[-1/0,1/0]],links:["oklab","oklrch"],black:[0,0,0]},{id:"oklrab",aliases:[],properties:["oklr","oka","okb"],gamut:[[0,1/0],[-1/0,1/0],[-1/0,1/0]],links:["oklab"],black:[0,0,0]},{id:"oklrch",aliases:[],properties:["oklr","okc","okh"],gamut:[[0,1/0],[0,1/0],[-1/0,1/0]],links:["oklch"],black:[0,0,0]},{id:"okhsl",aliases:[],properties:["okh","oksl","oklr"],gamutSpace:"srgb",links:["oklab"]},{id:"okhsv",aliases:[],properties:["okh","oksv","okv"],gamutSpace:"srgb",links:["oklab"]}],ve=Ht;var Oe={};ae(Oe,{allFormats:()=>I,unitRegExps:()=>h});var le="(?:\\-|\\+)?(?:[0-9]+(?:\\.[0-9]+)?|\\.[0-9]+)(?:(?:e|E)(?:\\-|\\+)?[0-9]+)?",h={number:le,percentage:le+"%",numberOrPercentage:le+"%?",angle:le+"(?:deg|grad|rad|turn)?"},I=[{id:"hex",syntaxes:[/^#([a-fA-F0-9]{1})([a-fA-F0-9]{1})([a-fA-F0-9]{1})$/,/^#([a-fA-F0-9]{1})([a-fA-F0-9]{1})([a-fA-F0-9]{1})([a-fA-F0-9]{1})$/,/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/]},{id:"rgb",syntaxes:[new RegExp(`^rgba?\\((${h.number}), ?(${h.number}), ?(${h.number})\\)$`),new RegExp(`^rgba?\\((${h.number}), ?(${h.number}), ?(${h.number}), ?(${h.numberOrPercentage})\\)$`),new RegExp(`^rgba?\\((${h.percentage}), ?(${h.percentage}), ?(${h.percentage})\\)$`),new RegExp(`^rgba?\\((${h.percentage}), ?(${h.percentage}), ?(${h.percentage}), ?(${h.numberOrPercentage})\\)$`),new RegExp(`^rgba?\\((${h.number}) (${h.number}) (${h.number})\\)$`),new RegExp(`^rgba?\\((${h.number}) (${h.number}) (${h.number}) ?\\/ ?(${h.numberOrPercentage})\\)$`),new RegExp(`^rgba?\\((${h.percentage}) (${h.percentage}) (${h.percentage})\\)$`),new RegExp(`^rgba?\\((${h.percentage}) (${h.percentage}) (${h.percentage}) ?\\/ ?(${h.numberOrPercentage})\\)$`)]},{id:"hsl",syntaxes:[new RegExp(`^hsla?\\((${h.angle}), ?(${h.percentage}), ?(${h.percentage})\\)$`),new RegExp(`^hsla?\\((${h.angle}), ?(${h.percentage}), ?(${h.percentage}), ?(${h.numberOrPercentage})\\)$`),new RegExp(`^hsla?\\((${h.angle}) (${h.percentage}) (${h.percentage})\\)$`),new RegExp(`^hsla?\\((${h.angle}) (${h.percentage}) (${h.percentage}) ?\\/ ?(${h.numberOrPercentage})\\)$`)]},{id:"hwb",syntaxes:[new RegExp(`^hwb\\((${h.angle}) (${h.percentage}) (${h.percentage})\\)$`),new RegExp(`^hwb\\((${h.angle}) (${h.percentage}) (${h.percentage}) ?\\/ ?(${h.numberOrPercentage})\\)$`)]},{id:"lab",syntaxes:[new RegExp(`^lab\\((${h.percentage}) (${h.number}) (${h.number})\\)$`),new RegExp(`^lab\\((${h.percentage}) (${h.number}) (${h.number}) ?\\/ ?(${h.numberOrPercentage})\\)$`)]},{id:"lch",syntaxes:[new RegExp(`^lch\\((${h.percentage}) (${h.number}) (${h.angle})\\)$`),new RegExp(`^lch\\((${h.percentage}) (${h.number}) (${h.angle}) ?\\/ ?(${h.numberOrPercentage})\\)$`)]},{id:"oklab",syntaxes:[new RegExp(`^oklab\\((${h.percentage}) (${h.number}) (${h.number})\\)$`),new RegExp(`^oklab\\((${h.percentage}) (${h.number}) (${h.number}) ?\\/ ?(${h.numberOrPercentage})\\)$`)]},{id:"oklch",syntaxes:[new RegExp(`^oklch\\((${h.percentage}) (${h.number}) (${h.angle})\\)$`),new RegExp(`^oklch\\((${h.percentage}) (${h.number}) (${h.angle}) ?\\/ ?(${h.numberOrPercentage})\\)$`)]},{id:"color",syntaxes:[new RegExp(`^color\\(([a-zA-Z0-9_-]+?) (${h.number}) (${h.number}) (${h.number})\\)$`),new RegExp(`^color\\(([a-zA-Z0-9_-]+?) (${h.number}) (${h.number}) (${h.number}) ?\\/ ?(${h.numberOrPercentage})\\)$`)]},{id:"name",syntaxes:[/^[A-Za-z]+$/]}];var ce={};ae(ce,{CIEDE2000:()=>Ie,euclidean:()=>B});function B(s,e){return s.reduce((t,r,n)=>t+w(r-e[n],2),0)}function Ie([s,e,t],[r,n,a]){let o=100*s,i=100*r,c=Math.sqrt(w(e,2)+w(t,2)),u=Math.sqrt(w(n,2)+w(a,2)),m=(c+u)/2,p=.5*(1-Math.sqrt(w(m,7)/(w(m,7)+w(25,7)))),b=(1+p)*e,g=(1+p)*n,f=Math.sqrt(w(b,2)+w(t,2)),x=Math.sqrt(w(g,2)+w(a,2)),k=f===0?0:Math.atan2(t,b)*180/Math.PI,d=x===0?0:Math.atan2(a,g)*180/Math.PI;for(;k<0;)k+=360;for(;k>360;)k-=360;for(;d<0;)d+=360;for(;d>360;)d-=360;let y=i-o,M=x-f,$=f*x===0?0:Math.abs(d-k)<=180?d-k:d-k>180?d-k-360:d-k+360,C=2*Math.sqrt(f*x)*Math.sin(Math.PI/180*($/2)),v=(o+i)/2,O=(f+x)/2,S=f*x===0?k+d:Math.abs(d-k)<=180?(k+d)/2:k+d>=360?(k+d-360)/2:(k+d+360)/2,_=1-.17*Math.cos(Math.PI/180*(S-30))+.24*Math.cos(Math.PI/180*(2*S))+.32*Math.cos(Math.PI/180*(3*S+6))-.2*Math.cos(Math.PI/180*(4*S-63)),P=30*Math.exp(-1*w((S-275)/25,2)),E=2*Math.sqrt(w(O,7)/(w(O,7)+w(25,7))),G=1+.015*w(v-50,2)/Math.sqrt(20+w(v-50,2)),Y=1+.045*O,U=1+.015*O*_,me=-1*Math.sin(Math.PI/180*(2*P))*E;return Math.sqrt(w(y/G,2)+w(M/Y,2)+w(C/U,2)+me*(M/Y)*(C/U))}var _e=class{constructor(e){A(this,"id");A(this,"links");A(this,"data");A(this,"visited",!1);A(this,"predecessor",null);var t;this.id=e.id,this.links=e.links,this.data=(t=e.data)!=null?t:null}getVisitedState(){return this.visited}getPredecessor(){return this.predecessor}visit(e=!0){this.visited=e}unvisit(){this.visited=!1}follow(e){this.predecessor=e}unfollow(){this.predecessor=null}},te=class extends Error{constructor(t){super(`Node ${JSON.stringify(t)} does not exist`);A(this,"id");this.id=t}},re=class extends Error{constructor(t,r){super(`No path found from ${JSON.stringify(t)} to ${JSON.stringify(r)}`);A(this,"startID");A(this,"endID");this.startID=t,this.endID=r}},Pe=class extends Error{constructor(){super("The graph is not a directed acyclic graph")}},ne=class{constructor(e){A(this,"nodes");this.nodes=e.map(t=>new _e(t))}getNode(e){let t=this.nodes.find(r=>r.id===e);if(t==null)throw new te(e);return t}cleanUp(){for(let e of this.nodes)e.unvisit(),e.unfollow()}shortestPath(e,t){if(e===t)return[];try{let r=this.getNode(e),n=this.getNode(t),a=[r];r.visit();let o=!1;e:for(;a.length>0;){let m=a.shift();if(m.id===n.id){o=!0;break e}for(let p of m.links){let b=this.getNode(p);b.getVisitedState()===!1&&(b.visit(),b.follow(m),a.push(b))}}if(!o)throw new re(r.id,n.id);let i=[n],c=n,u=c.getPredecessor();for(;u!=null;)i.push(u),c=u,u=c.getPredecessor();return this.cleanUp(),i.reverse()}catch(r){throw this.cleanUp(),r}}topologicalOrder(){let e=[],t=[...this.nodes],r=n=>{if(n.getVisitedState()!==!0){if(n.getVisitedState()==="temp")throw new Pe;n.visit("temp");for(let a of n.links){let o=this.getNode(a);r(o)}n.visit(!0),e.push(n)}};try{for(;t.length>0;){let n=t.shift();r(n)}return this.cleanUp(),e.reverse()}catch(n){throw this.cleanUp(),n}}};var Kt=new Map([["aliceblue","f0f8ff"],["antiquewhite","faebd7"],["aqua","00ffff"],["aquamarine","7fffd4"],["azure","f0ffff"],["beige","f5f5dc"],["bisque","ffe4c4"],["black","000000"],["blanchedalmond","ffebcd"],["blue","0000ff"],["blueviolet","8a2be2"],["brown","a52a2a"],["burlywood","deb887"],["cadetblue","5f9ea0"],["chartreuse","7fff00"],["chocolate","d2691e"],["coral","ff7f50"],["cornflowerblue","6495ed"],["cornsilk","fff8dc"],["crimson","dc143c"],["cyan","00ffff"],["darkblue","00008b"],["darkcyan","008b8b"],["darkgoldenrod","b8860b"],["darkgray","a9a9a9"],["darkgrey","a9a9a9"],["darkgreen","006400"],["darkkhaki","bdb76b"],["darkmagenta","8b008b"],["darkolivegreen","556b2f"],["darkorange","ff8c00"],["darkorchid","9932cc"],["darkred","8b0000"],["darksalmon","e9967a"],["darkseagreen","8fbc8f"],["darkslateblue","483d8b"],["darkslategray","2f4f4f"],["darkslategrey","2f4f4f"],["darkturquoise","00ced1"],["darkviolet","9400d3"],["deeppink","ff1493"],["deepskyblue","00bfff"],["dimgray","696969"],["dimgrey","696969"],["dodgerblue","1e90ff"],["firebrick","b22222"],["floralwhite","fffaf0"],["forestgreen","228b22"],["fuchsia","ff00ff"],["gainsboro","dcdcdc"],["ghostwhite","f8f8ff"],["gold","ffd700"],["goldenrod","daa520"],["gray","808080"],["grey","808080"],["green","008000"],["greenyellow","adff2f"],["honeydew","f0fff0"],["hotpink","ff69b4"],["indianred","cd5c5c"],["indigo","4b0082"],["ivory","fffff0"],["khaki","f0e68c"],["lavender","e6e6fa"],["lavenderblush","fff0f5"],["lawngreen","7cfc00"],["lemonchiffon","fffacd"],["lightblue","add8e6"],["lightcoral","f08080"],["lightcyan","e0ffff"],["lightgoldenrodyellow","fafad2"],["lightgray","d3d3d3"],["lightgrey","d3d3d3"],["lightgreen","90ee90"],["lightpink","ffb6c1"],["lightsalmon","ffa07a"],["lightseagreen","20b2aa"],["lightskyblue","87cefa"],["lightslategray","778899"],["lightslategrey","778899"],["lightsteelblue","b0c4de"],["lightyellow","ffffe0"],["lime","00ff00"],["limegreen","32cd32"],["linen","faf0e6"],["magenta","ff00ff"],["maroon","800000"],["mediumaquamarine","66cdaa"],["mediumblue","0000cd"],["mediumorchid","ba55d3"],["mediumpurple","9370d8"],["mediumseagreen","3cb371"],["mediumslateblue","7b68ee"],["mediumspringgreen","00fa9a"],["mediumturquoise","48d1cc"],["mediumvioletred","c71585"],["midnightblue","191970"],["mintcream","f5fffa"],["mistyrose","ffe4e1"],["moccasin","ffe4b5"],["navajowhite","ffdead"],["navy","000080"],["oldlace","fdf5e6"],["olive","808000"],["olivedrab","6b8e23"],["orange","ffa500"],["orangered","ff4500"],["orchid","da70d6"],["palegoldenrod","eee8aa"],["palegreen","98fb98"],["paleturquoise","afeeee"],["palevioletred","d87093"],["papayawhip","ffefd5"],["peachpuff","ffdab9"],["peru","cd853f"],["pink","ffc0cb"],["plum","dda0dd"],["powderblue","b0e0e6"],["purple","800080"],["rebeccapurple","663399"],["red","ff0000"],["rosybrown","bc8f8f"],["royalblue","4169e1"],["saddlebrown","8b4513"],["salmon","fa8072"],["sandybrown","f4a460"],["seagreen","2e8b57"],["seashell","fff5ee"],["sienna","a0522d"],["silver","c0c0c0"],["skyblue","87ceeb"],["slateblue","6a5acd"],["slategray","708090"],["slategrey","708090"],["snow","fffafa"],["springgreen","00ff7f"],["steelblue","4682b4"],["tan","d2b48c"],["teal","008080"],["thistle","d8bfd8"],["tomato","ff6347"],["turquoise","40e0d0"],["violet","ee82ee"],["wheat","f5deb3"],["white","ffffff"],["whitesmoke","f5f5f5"],["yellow","ffff00"],["yellowgreen","9acd32"]]),et=Kt;function Bt(s){return s.length<2?`0${s}`:s}function ue(s){let e=s;for(;e<0;)e+=360;for(;e>=360;)e-=360;return e}function J(s,e="1"){return s?String(s):s===0?"0":e}function tt(s){return s.map(e=>Bt(Math.round(e*255).toString(16)))}function be(s){return s.map(e=>e.length===1?e.repeat(2):e).map(e=>parseInt(e,16)).map(e=>e/255)}var he=class extends Error{constructor(e){super(`${JSON.stringify(e)} is not a valid color format`)}},z=class extends Error{constructor(e,t){super(`Invalid ${JSON.stringify(e)} value: ${JSON.stringify(t)}`)}},Te=class extends Error{constructor(e){super(`Invalid angle value: ${JSON.stringify(e)}`)}},Ee=class extends Error{constructor(e){super(`Invalid arbitrary value: ${JSON.stringify(e)}`)}},Ae=class extends Error{constructor(e,t){super(`Format ${e} does not have a property called ${t}`)}},Ne=class extends Error{constructor(e,t){super(`Conversion from ${JSON.stringify(e.id)} space to ${JSON.stringify(t.id)} space is impossible`)}},D=class extends Error{constructor(e){super(`${JSON.stringify(e)} is not a supported color space`)}},ze=class extends Error{constructor(e){super(`Conversion function ${e} does not exist`)}},j=class extends Error{constructor(e,t){super(`${e} is not a supported method for ${t}`)}},Z,Ge=class extends ne{constructor(){super(...arguments);R(this,Z,new Map)}shortestPath(t,r){let n=`${t}_to_${r}`,a=T(this,Z).get(n);if(!a){let i=T(this,Z).get(`${r}_to_${t}`);a=i?[...i].reverse():null}if(a)return a;let o=super.shortestPath(t,r);return T(this,Z).set(n,o),o}};Z=new WeakMap;var rt=new Ge(ve),L,q,F,W,X,l=class{constructor(e){R(this,L,0);R(this,q,0);R(this,F,0);R(this,W,0);R(this,X,new Map);if(e instanceof l||typeof e=="object"&&"r"in e&&"g"in e&&"b"in e)N(this,L,e.r),N(this,q,e.g),N(this,F,e.b),N(this,W,typeof e.a=="number"?e.a:1);else if(Array.isArray(e)&&(e.length==3||e.length==4))[V(this,L)._,V(this,q)._,V(this,F)._]=e.slice(0,3),N(this,W,Math.max(0,Math.min(Number(J(e[3])),1)));else if(typeof e=="string"){let t=l.matchSyntax(e.trim());switch(t.id){case"hex":this.setHex([t.data[1],t.data[2],t.data[3],J(t.data[4],"ff")]);break;case"rgb":case"hsl":case"hwb":case"lab":case"lch":case"oklab":case"oklch":{let r=[t.data[1],t.data[2],t.data[3],J(t.data[4])],n=[...l.propertiesOf(t.id),"a"],a=l.getSpace(t.id);this.set(r,n,a)}break;case"color":this.setColor(t.data[1],[t.data[2],t.data[3],t.data[4],J(t.data[5])]);break;default:throw new he(e)}}else throw new Error(`Couleur objects can only be created from a string, an array of parsed values, or another Couleur object ; this is not one: ${JSON.stringify(e)}`)}static makeInstance(e){return e instanceof l?e:new l(e)}static matchSyntax(e){let t=e.slice(0,3),r;if(t.slice(0,1)==="#")r=I[0];else switch(t){case"rgb":r=I[1];break;case"hsl":r=I[2];break;case"hwb":r=I[3];break;case"lab":r=I[4];break;case"lch":r=I[5];break;case"okl":e.startsWith("oklab")?r=I[6]:e.startsWith("oklch")&&(r=I[7]);break;case"col":r=I[8];break;default:r=I[9]}if(r==null)throw new Error("No matching format");for(let n of r.syntaxes){let a=e.match(n);if(a!=null&&a[0]===e)if(r.id==="name"){if(e==="transparent")return{id:"rgb",data:["","0","0","0","0"]};let i=l.namedColors.get(e.toLowerCase())||null;if(i)return l.matchSyntax(`#${i}`)}else return{id:r.id,data:a}}throw new he(e)}static parse(e,t=null,{clamp:r=!0}={}){let n=String(e),a=parseFloat(n);switch(t){case"a":{if(new RegExp("^"+h.percentage+"$").test(n))return r?Math.max(0,Math.min(a/100,1)):a/100;if(new RegExp("^"+h.number+"$").test(n))return r?Math.max(0,Math.min(a,1)):a;throw new z(t,e)}case"r":case"g":case"b":{if(new RegExp("^"+h.percentage+"$").test(n))return r?Math.max(0,Math.min(a/100,1)):a/100;if(new RegExp("^"+h.number+"$").test(n))return r?Math.max(0,Math.min(a/255,1)):a/255;throw new z(t,e)}case"h":case"cieh":case"okh":{let o=a;if(new RegExp("^"+h.number+"$").test(n))return ue(o);if(new RegExp("^"+h.angle+"$").test(n)){if(n.slice(-3)!=="deg")if(n.slice(-4)==="grad")o=o*360/400;else if(n.slice(-3)==="rad")o=o*180/Math.PI;else if(n.slice(-4)==="turn")o=o*360;else throw new Te(e);return ue(o)}else throw new z(t,e)}case"s":case"l":case"w":case"bk":case"ciel":case"okl":{if(new RegExp("^"+h.percentage+"$").test(n))return r?Math.max(0,Math.min(a/100,1)):a/100;throw new z(t,e)}case"ciea":case"cieb":case"oka":case"okb":case"okc":{if(new RegExp("^"+h.number+"$").test(n))return a;throw new z(t,e)}case"ciec":{if(new RegExp("^"+h.number+"$").test(n))return r?Math.max(0,a):a;throw new z(t,e)}default:{if(new RegExp("^"+h.percentage+"$").test(n))return a/100;if(new RegExp("^"+h.number+"$").test(n))return a;throw new Ee(e)}}}static unparse(e,t,{precision:r=0}={}){switch(t){case"r":case"g":case"b":return r===null?`${255*e}`:`${Math.round(w(10,r)*255*e)/w(10,r)}`;case"s":case"l":case"w":case"bk":case"ciel":case"okl":return r===null?`${100*e}%`:`${Math.round(w(10,r)*100*e)/w(10,r)}%`;case"oka":case"okb":case"okc":return r===null?`${e}`:`${Math.round(w(10,Math.max(r,4))*e)/w(10,Math.max(r,4))}`;case"a":return r===null?`${e}`:`${Math.round(w(10,Math.max(r,2))*e)/w(10,Math.max(r,2))}`;default:return r===null?`${e}`:`${Math.round(w(10,r)*e)/w(10,r)}`}}set(e,t,r,{parsed:n=!1}={}){let a=l.getSpace(r),o=n?e.map(i=>Number(i)):t.map((i,c)=>l.parse(e[c],i));[V(this,L)._,V(this,q)._,V(this,F)._]=l.convert(a,"srgb",o),N(this,W,l.parse(J(e[3]),"a"))}setHex(e){let[t,r,n]=e.map(i=>String(i)),a=String(e[3])||"ff",o=be([t,r,n,a]).map((i,c)=>c===3?i:i*255);this.set(o,["r","g","b"],"srgb")}setColor(e,t){let r=t.slice(0,3).map(o=>l.parse(o)),n=l.parse(t[3]);r=l.convert(e,"srgb",r);let a=[...r,n];return this.set(a,[null,null,null],"srgb")}toString(e="rgb",{precision:t=0,clamp:r=!1}={}){let a=e.toLowerCase().replace("color-",""),o=l.getSpace(a),i=this.valuesTo(o,{clamp:r});return l.makeString(e,[...i,this.a],{precision:t})}static makeString(e,t,{precision:r=0}={}){var c;let n=e.toLowerCase(),a=n.replace("color-",""),o=l.getSpace(a),i=Number(l.unparse((c=t[3])!=null?c:1,"a",{precision:r}));if(t=[...t.slice(0,3),i],n.toLowerCase().slice(0,5)==="color"){let[u,m,p]=t.map(b=>r===null?b:Math.round(w(10,r)*b)/w(10,r));return i<1?`color(${o.id} ${u} ${m} ${p} / ${i})`:`color(${o.id} ${u} ${m} ${p})`}else{let u=l.propertiesOf(n),[m,p,b]=u.map((g,f)=>l.unparse(t[f],g,{precision:r}));switch(n.toLowerCase()){case"rgb":case"rgba":case"hsl":case"hsla":return n.length>3&&n.slice(-1)==="a"||i<1?`${n}(${m}, ${p}, ${b}, ${i})`:`${n}(${m}, ${p}, ${b})`;default:return i<1?`${n}(${m} ${p} ${b} / ${i})`:`${n}(${m} ${p} ${b})`}}}get values(){return[this.r,this.g,this.b]}get name(){if(this.a===1){let e=l.namedColors,[t,r,n]=this.values,a=.02;for(let[o,i]of e.entries()){let[c,u,m]=be([`${i[0]}${i[1]}`,`${i[2]}${i[3]}`,`${i[4]}${i[5]}`]);if(Math.abs(c-t)+Math.abs(u-r)+Math.abs(m-n)<a)return o}return null}else return this.a===0?"transparent":null}get exactName(){if(this.a===1){let e=l.namedColors,t=this.hex.slice(1);for(let[r,n]of e.entries())if(n===t)return r;return null}else return this.a===0?"transparent":null}get closestName(){if(this.a<.5)return"transparent";let e=l.namedColors,[t,r,n]=this.values,a="",o=1/0;for(let[i,c]of e.entries()){let[u,m,p]=be([`${c[0]}${c[1]}`,`${c[2]}${c[3]}`,`${c[4]}${c[5]}`]),b=Math.abs(u-t)+Math.abs(m-r)+Math.abs(p-n);b<o&&(o=b,a=i)}return a}get hex(){let e=l.valuesToGamut("srgb",this.values),t=tt([...e,this.a]);return this.a<1?`#${t[0]}${t[1]}${t[2]}${t[3]}`:`#${t[0]}${t[1]}${t[2]}`}get rgb(){return this.toString("rgb",{precision:2,clamp:!0})}get rgba(){return this.rgb}get hsl(){return this.toString("hsl",{precision:2,clamp:!0})}get hsla(){return this.hsl}get hwb(){return this.toString("hwb",{precision:2,clamp:!0})}get lab(){return this.toString("lab",{precision:2,clamp:!0})}get lch(){return this.toString("lch",{precision:2,clamp:!0})}get oklab(){return this.toString("oklab",{precision:2,clamp:!0})}get oklch(){return this.toString("oklch",{precision:2,clamp:!0})}recompute(e,t,r){let n=[...l.propertiesOf(r),"a"];if(!n.includes(t))throw new Ae(r,t);let a=typeof e=="string"?l.parse(e,t):e,o=[...this.valuesTo(r),this.a],i=n.map((c,u)=>c===t?a:o[u]);this.set(i,n,r,{parsed:!0}),N(this,X,new Map)}set r(e){this.recompute(e,"r","rgb")}set red(e){this.r=e}set g(e){this.recompute(e,"g","rgb")}set green(e){this.g=e}set b(e){this.recompute(e,"b","rgb")}set blue(e){this.b=e}set a(e){this.recompute(e,"a","rgb")}set alpha(e){this.a=e}set opacity(e){this.a=e}set h(e){this.recompute(e,"h","hsl")}set hue(e){this.h=e}set s(e){this.recompute(e,"s","hsl")}set saturation(e){this.s=e}set l(e){this.recompute(e,"l","hsl")}set lightness(e){this.l=e}set w(e){this.recompute(e,"w","hwb")}set whiteness(e){this.w=e}set bk(e){this.recompute(e,"bk","hwb")}set blackness(e){this.bk=e}set ciel(e){this.recompute(e,"ciel","lab")}set CIElightness(e){this.ciel=e}set ciea(e){this.recompute(e,"ciea","lab")}set cieb(e){this.recompute(e,"cieb","lab")}set ciec(e){this.recompute(e,"ciec","lch")}set CIEchroma(e){this.ciec=e}set cieh(e){this.recompute(e,"cieh","lch")}set CIEhue(e){this.cieh=e}set okl(e){this.recompute(e,"okl","oklab")}set OKlightness(e){this.okl=e}set oka(e){this.recompute(e,"oka","oklab")}set okb(e){this.recompute(e,"okb","oklab")}set okc(e){this.recompute(e,"okc","oklch")}set OKchroma(e){this.okc=e}set okh(e){this.recompute(e,"okh","oklch")}set OKhue(e){this.okh=e}get r(){return T(this,L)}get red(){return this.r}get g(){return T(this,q)}get green(){return this.g}get b(){return T(this,F)}get blue(){return this.b}get a(){return T(this,W)}get alpha(){return this.a}get opacity(){return this.a}get h(){return this.valuesTo("hsl")[0]}get hue(){return this.h}get s(){return this.valuesTo("hsl")[1]}get saturation(){return this.s}get l(){return this.valuesTo("hsl")[2]}get lightness(){return this.l}get w(){return this.valuesTo("hwb")[1]}get whiteness(){return this.w}get bk(){return this.valuesTo("hwb")[2]}get blackness(){return this.bk}get ciel(){return this.valuesTo("lab")[0]}get CIElightness(){return this.ciel}get ciea(){return this.valuesTo("lab")[1]}get cieb(){return this.valuesTo("lab")[2]}get ciec(){return this.valuesTo("lch")[1]}get CIEchroma(){return this.ciec}get cieh(){return this.valuesTo("lch")[2]}get CIEhue(){return this.cieh}get okl(){return this.valuesTo("oklab")[0]}get OKlightness(){return this.okl}get oka(){return this.valuesTo("oklab")[1]}get okb(){return this.valuesTo("oklab")[2]}get okc(){return this.valuesTo("oklch")[1]}get OKchroma(){return this.okc}get okh(){return this.valuesTo("oklch")[2]}get OKhue(){return this.okh}set luminance(e){let[t,r,n]=this.values,a=this.luminance,o=l.parse(e,"a",{clamp:!0});if(a===0)this.r=o,this.g=o,this.b=o;else{let i=o/a;this.r=i*t,this.g=i*r,this.b=i*n}}get luminance(){if(this.a<1)throw new Error("The luminance of a transparent color would be meaningless");return ee(this.values)}static convert(e,t,r){if(typeof e==typeof t&&e===t||typeof e=="string"&&typeof t!="string"&&e===t.id||typeof e!="string"&&typeof t=="string"&&e.id===t)return r;let n=l.getSpace(e),a=l.getSpace(t),o,i=rt;try{o=i.shortestPath(n.id,a.id).map(u=>u.id)}catch(u){throw u instanceof re?new Ne(n,a):u instanceof te?u.id===n.id?new D(n.id):u.id===a.id?new D(a.id):u:u}let c=r;for(;o.length>1;){let u=o.shift(),m=o[0],p=`${u}_to_${m}`.replace(/-/g,""),b=K[p];if(typeof b!="function")throw new ze(p);c=b(c)}return c}valuesTo(e,{clamp:t=!1}={}){let r=l.getSpace(e),n=T(this,X).get(r.id);return n||(n=l.convert("srgb",r,this.values),T(this,X).set(r.id,n)),t&&(n=l.valuesToGamut(r,n)),n}static valuesInGamut(e,t,{tolerance:r=1e-4}={}){let n=l.getSpace(e),a=n.gamutSpace?l.getSpace(n.gamutSpace):n;return(t instanceof l?t.valuesTo(a):l.convert(n,a,t)).every((i,c)=>i>=a.gamut[c][0]-r&&i<=a.gamut[c][1]+r)}inGamut(e,t={}){return l.valuesInGamut(e,this,t)}static valuesToGamut(e,t,{method:r="okchroma"}={}){let n=l.getSpace(e),a=n.gamutSpace?l.getSpace(n.gamutSpace):n,o=r.toLowerCase();if(t instanceof l){if(t.inGamut(n,{tolerance:0}))return t.valuesTo(n);t=t.valuesTo(n)}else if(l.valuesInGamut(n,t,{tolerance:0}))return t;let i;switch(o){case"okchroma":{let c=l.getSpace("oklch"),u=l.convert(n,c,t),m=1e-6,p=.02;if(u[0]>=1-m)return l.convert(a,n,a.white||[1,1,1]);if(u[0]<=0+m)return l.convert(a,n,a.black||[0,0,0]);let b=0,g=u[1];for(u[1]=u[1]/2;g-b>m;){let f=l.convert(c,a,u);if(l.valuesInGamut(a,f,{tolerance:0}))b=u[1];else{let x=l.convert(a,c,l.valuesToGamut(a,f,{method:"naive"})),k=l.convert(c,"oklab",x),d=l.convert(c,"oklab",u);if(B(k,d)<p){u=x;break}g=u[1]}u[1]=(b+g)/2}i=l.convert(c,a,u)}break;case"naive":i=l.convert(n,a,t).map((u,m)=>Math.max(a.gamut[m][0],Math.min(u,a.gamut[m][1])));break;default:throw new j(o,"gamut mapping")}return o!=="naive"&&(i=l.valuesToGamut(a,i,{method:"naive"})),l.convert(a,n,i)}toGamut(e,t={}){let r=l.getSpace(e),n=l.valuesToGamut(r,this,t),a=l.convert(r,"srgb",n);return new l([...a,this.a])}change(e,t,{action:r}={}){let n=(r==null?void 0:r.toLowerCase())==="replace",a=(r==null?void 0:r.toLowerCase())==="scale",o=a?l.parse(t):l.parse(t,e,{clamp:!1}),i=new l(this),c=this[e],u=n?o:a?c*o:c+o;return i[e]=u,i}replace(e,t){return this.change(e,t,{action:"replace"})}scale(e,t){return this.change(e,t,{action:"scale"})}complement(){return this.change("h",180)}negative(){return new l([1-this.r,1-this.g,1-this.b,this.a])}invert(){return this.negative()}greyscale(){let e=this.replace("a",1).luminance;return new l([e,e,e,this.a])}grayscale(){return this.greyscale()}sepia(){let e=Math.min(.393*this.r+.769*this.g+.189*this.b,1),t=Math.min(.349*this.r+.686*this.g+.168*this.b,1),r=Math.min(.272*this.r+.534*this.g+.131*this.b,1);return new l([e,t,r,this.a])}static blend(e,t,r){let n=l.makeInstance(e),a=l.makeInstance(t);if(r!=null&&(a.a=l.parse(r,"a")),a.a===0)return n;if(a.a===1)return a;let o=a.a+n.a*(1-a.a),i=(a.r*a.a+n.r*n.a*(1-a.a))/o,c=(a.g*a.a+n.g*n.a*(1-a.a))/o,u=(a.b*a.a+n.b*n.a*(1-a.a))/o;return new l([i,c,u,o])}static blendAll(...e){if(e.length<2)throw new Error("You need at least 2 colors to blend");let t=e.shift(),r=e.shift();if(t==null||r==null)throw new Error("Cannot blend undefined color");let n=l.blend(t,r);return e.length===0?n:l.blendAll(n,...e)}blend(e,t){return l.blend(this,e,t)}blendAll(...e){return l.blendAll(this,...e)}static unblend(e,t,r){let n=l.makeInstance(e),a=l.makeInstance(t);if(r!=null&&(a.a=l.parse(r,"a")),a.a===1)throw new Error(`Overlay color ${JSON.stringify(a.rgb)} isn't transparent, so the background it was blended onto could have been any color`);if(a.a===0)return n;if(n.a<a.a)return null;if(n.a===a.a)return l.same(n,a)?new l([0,0,0,0]):null;{let o=(n.a-a.a)/(1-a.a),i=(n.r*n.a-a.r*a.a)/(o*(1-a.a)),c=(n.g*n.a-a.g*a.a)/(o*(1-a.a)),u=(n.b*n.a-a.b*a.a)/(o*(1-a.a)),m=l.valuesToGamut("srgb",[i,c,u]);return new l([...m,o])}}static unblendAll(...e){if(e.length<2)throw new Error("You need at least 2 colors to unblend");let t=e.shift(),r=e.shift();if(t==null||r==null)throw new Error("Cannot unblend undefined color");let n=l.unblend(t,r);return n==null?null:e.length===0?n:l.unblendAll(n,...e)}unblend(e,t){return l.unblend(this,e,t)}unblendAll(...e){return l.unblendAll(this,...e)}static whatToBlend(e,t,r=[],{ignoreTransparent:n=!1}={}){let a=l.makeInstance(e),o=l.makeInstance(t),i=[],c=b=>{let g=(o.r*o.a-a.r*a.a*(1-b))/b,f=(o.g*o.a-a.g*a.a*(1-b))/b,x=(o.b*o.a-a.b*a.a*(1-b))/b;if(!l.valuesInGamut("srgb",[g,f,x],{tolerance:1/255}))throw new Error("This color doesn't exist");let k=l.valuesToGamut("srgb",[g,f,x],{method:"naive"});return new l([...k,b])},u=[r].flat(),m=u.length>0?u.filter(b=>b>0&&b<1):Array.from({length:9},(b,g)=>(g+1)/10);if(o.a<a.a)return[];if(o.a>a.a)if(o.a===1)i.push(o);else if(a.a===0)i.push(o);else{let b=(o.a-a.a)/(1-a.a);try{i.push(c(b))}catch(g){return[]}}else if(o.a===a.a)if(o.a===0)i.push(new l("transparent"));else if(o.a<1)if(l.same(o,a))i.push(new l("transparent"));else return[];else{l.same(o,a)&&i.push(new l("transparent"));for(let b of m)try{i.push(c(b))}catch(g){continue}i.push(o)}let p=u.length>0?i.filter(b=>u.includes(b.a)):i;return n&&(p=p.filter(b=>b.a>0)),p}whatToBlend(e,t){return l.whatToBlend(this,e,t)}static contrast(e,t,{method:r="apca"}={}){let n=l.makeInstance(t);if(n.a<1)throw new Error("The contrast with a transparent background color would be meaningless");let a=l.makeInstance(e);switch(a.a<1&&(a=l.blend(n,a)),r.toLowerCase()){case"apca":return oe(a.values,n.values);case"wcag2":return Se(a.values,n.values);default:throw new j(r,"contrast calculations")}}contrast(e,t={}){return l.contrast(this,e,t)}bestColorScheme(e="background"){let t=[...this.toGamut("srgb").values,this.a];switch(e){case"text":{let r=Math.abs(l.contrast(t,"black",{method:"apca"})),n=Math.abs(l.contrast(t,"white",{method:"apca"}));return r>=n?"dark":"light"}case"background":{let r=Math.abs(l.contrast("black",t,{method:"apca"})),n=Math.abs(l.contrast("white",t,{method:"apca"}));return r>=n?"light":"dark"}default:throw new Error('Argument must be "background" or "text"')}}improveContrast(e,t,{as:r="text",lower:n=!1,colorScheme:a,method:o="apca"}={}){let i=r==="text"?l.makeInstance(e):this,c=r==="text"?this:l.makeInstance(e),u=i.valuesTo("oklab"),m=c.valuesTo("oklab"),p=r==="text"?m:u,b=Math.abs(l.contrast(c,i,{method:o})),g;if(b>t?g=-1:b<t?g=1:g=0,g<0&&n===!1||g===0)return this;let f=a||(u[0]<m[0]?"dark":"light"),x=Math.abs(r==="text"?l.contrast(i,"black",{method:o}):l.contrast("black",c,{method:o})),k=Math.abs(r==="text"?l.contrast(i,"white",{method:o}):l.contrast("white",c,{method:o})),d={lowering:g>0?x>=t:x<=t,raising:g>0?k>=t:k<=t},y;if(d.lowering&&!d.raising)y=-1;else if(d.raising&&!d.lowering)y=1;else{if(!d.raising&&!d.lowering)return r==="text"?f==="light"?new l("black"):new l("white"):f==="light"?new l("white"):new l("black");f==="light"&&g>0?y=-1:f==="light"&&g<0||f==="dark"&&g>0?y=1:y=-1,r==="background"&&(y=-y)}let M=1e-4,$=y>0?p[0]:0,C=y>0?1:p[0];for(;C-$>M;){let S=($+C)/2,_=p;_[0]=S;let P=Math.abs(r==="text"?l.contrast(l.convert("oklab","srgb",_),i,{method:o}):l.contrast(c,l.convert("oklab","srgb",_),{method:o}));(g>0?P<t:P>t)?y>0?$=S:C=S:y>0?C=S:$=S,p[0]=S}let v=new l(l.convert("oklab","srgb",p));return Math.abs(r==="text"?l.contrast(v,i,{method:o}):l.contrast(c,v,{method:o}))<t&&(r==="text"?f==="light"?p[0]=$:p[0]=C:f==="light"?p[0]=C:p[0]=$),new l(l.convert("oklab","srgb",p))}static distance(e,t,{method:r="deltae2000",alpha:n=!0}={}){let a=l.makeInstance(e),o=l.makeInstance(t),i=1/0,c=1;switch(r.toLowerCase()){case"ciede2000":case"deltae2000":{let[m,p]=[a,o].map(b=>b.valuesTo("lab"));i=Ie(m,p),c=50}break;case"deltaeok":{let[m,p]=[a,o].map(b=>b.valuesTo("oklab"));i=B(m,p)}break;case"euclidean":{let[m,p]=[a,o].map(b=>b.values);i=B(m,p)}break;default:throw new j(r,"distance calculations")}let u=n?B([a.a],[o.a]):0;return i+c*u}distance(e,t={}){return l.distance(this,e,t)}static same(e,t,{tolerance:r=1,method:n="deltae2000"}={}){return!(l.distance(e,t,{method:n})>r)}same(e,t={}){return l.same(this,e,t)}static interpolate(e,t,r,n,{hueInterpolationMethod:a="shorter",premultiplyAlpha:o=!0}={}){let i=l.makeInstance(e),c=l.makeInstance(t),u=Math.max(0,r),m=l.getSpace(n),p=l.propertiesOf(m.id),b=i.valuesTo(m),g=c.valuesTo(m),f=(M,$)=>M.map((C,v)=>{switch(p[v]){case"h":case"cieh":case"okh":return C;default:return $*C}});o&&(b=f(b,i.a),g=f(g,c.a));let x=p.map((M,$)=>{switch(M){case"h":case"cieh":case"okh":{let C=g[$]-b[$];switch(a){case"shorter":C>180?b[$]+=360:C<-180&&(g[$]+=360);break;case"longer":0<C&&C<180?b[$]+=360:-180<C&&C<=0&&(g[$]+=360);break;case"increasing":C<0&&(g[$]+=360);break;case"decreasing":0<C&&(b[$]+=360);break;default:throw new j(a,"hue interpolation")}}default:return(g[$]-b[$])/(u+1)}}),k=(c.a-i.a)/(u+1),d=[b];for(let M=1;M<=u;M++){let $=d[M-1],C=p.map((v,O)=>{let S=$[O]+x[O];switch(v){case"h":case"cieh":case"okh":return ue(S);default:return S}});d.push(C)}d.push(g);let y=(M,$)=>M.map((C,v)=>{let O=i.a+$*k;switch(p[v]){case"h":case"cieh":case"okh":return C;default:return C/O}});return o&&(d=d.map((M,$)=>y(M,$))),d.map((M,$)=>new l([...l.convert(m,"srgb",M),i.a+$*k]))}interpolate(e,t,r,n={}){return l.interpolate(this,e,t,r,n)}static propertiesOf(e){var t;return(t=l.getSpace(e.toLowerCase()).properties)!=null?t:[]}static get properties(){var t;let e=new Set;for(let r of l.colorSpaces)(t=r.properties)==null||t.map(n=>e.add(n));return[...e,"a"]}static getSpace(e){let t;if(typeof e!="string"){if(e==null)throw new D("null");return e}else{let r=e.toLowerCase();if(t=l.colorSpaces.find(n=>n.id===r||n.aliases.includes(r)),t==null)throw new D(e);return t}}static get colorSpaces(){return ve}static get colorSpacesGraph(){return rt}static get namedColors(){return et}},pe=l;L=new WeakMap,q=new WeakMap,F=new WeakMap,W=new WeakMap,X=new WeakMap;export{ie as Contrasts,K as Conversions,ce as Distances,Oe as cssFormats,pe as default};
